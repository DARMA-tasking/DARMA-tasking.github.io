\hypertarget{classvt_1_1messaging_1_1_collection_chain_set}{}\section{vt\+:\+:messaging\+:\+:Collection\+Chain\+Set$<$ Index $>$ Struct Template Reference}
\label{classvt_1_1messaging_1_1_collection_chain_set}\index{vt\+::messaging\+::\+Collection\+Chain\+Set$<$ Index $>$@{vt\+::messaging\+::\+Collection\+Chain\+Set$<$ Index $>$}}


A set of chains to maintain a sequence for a set of collection elements that may be local or remote.  




{\ttfamily \#include $<$vt/messaging/collection\+\_\+chain\+\_\+set.\+h$>$}

\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classvt_1_1messaging_1_1_collection_chain_set_aeb43ad4a2e46ea059817b639b72ddb3b}{Collection\+Chain\+Set} ()=default
\item 
\hyperlink{classvt_1_1messaging_1_1_collection_chain_set_a71328cb5c03210ffdb0bd5dd5f3b6797}{Collection\+Chain\+Set} (const \hyperlink{classvt_1_1messaging_1_1_collection_chain_set}{Collection\+Chain\+Set} \&)=delete
\item 
\hyperlink{classvt_1_1messaging_1_1_collection_chain_set_a21be566436c86fa59a02a1bd073a9e48}{Collection\+Chain\+Set} (\hyperlink{classvt_1_1messaging_1_1_collection_chain_set}{Collection\+Chain\+Set} \&\&)=delete
\item 
void \hyperlink{classvt_1_1messaging_1_1_collection_chain_set_aefc11c9b011b4916c3b80dfc8f776239}{add\+Index} (Index idx)
\begin{DoxyCompactList}\small\item\em Add an index to the set. \end{DoxyCompactList}\item 
void \hyperlink{classvt_1_1messaging_1_1_collection_chain_set_a299e52c482aba47bcdabe796d236c043}{remove\+Index} (Index idx)
\begin{DoxyCompactList}\small\item\em Remove an index from the set. \end{DoxyCompactList}\item 
void \hyperlink{classvt_1_1messaging_1_1_collection_chain_set_aa6ab934f32d8623872cfcd7ed9e147b2}{next\+Step} (std\+::string const \&label, std\+::function$<$ \hyperlink{structvt_1_1messaging_1_1_pending_send}{Pending\+Send}(Index)$>$ step\+\_\+action)
\begin{DoxyCompactList}\small\item\em The next step to execute on all the chains resident in this collection chain set. \end{DoxyCompactList}\item 
void \hyperlink{classvt_1_1messaging_1_1_collection_chain_set_aa4e8a0a24fa7cde6e7f729f4dd002e64}{next\+Step} (std\+::function$<$ \hyperlink{structvt_1_1messaging_1_1_pending_send}{Pending\+Send}(Index)$>$ step\+\_\+action)
\begin{DoxyCompactList}\small\item\em The next step to execute on all the chains resident in this collection chain set. \end{DoxyCompactList}\item 
void \hyperlink{classvt_1_1messaging_1_1_collection_chain_set_a095bc4907c3bd60668483de52b79b08e}{next\+Step\+Collective} (std\+::string const \&label, std\+::function$<$ \hyperlink{structvt_1_1messaging_1_1_pending_send}{Pending\+Send}(Index)$>$ step\+\_\+action)
\begin{DoxyCompactList}\small\item\em The next collective step to execute across all resident elements across all nodes. \end{DoxyCompactList}\item 
void \hyperlink{classvt_1_1messaging_1_1_collection_chain_set_a7d226984e696278b9ca7e539c974bab4}{next\+Step\+Collective} (std\+::function$<$ \hyperlink{structvt_1_1messaging_1_1_pending_send}{Pending\+Send}(Index)$>$ step\+\_\+action)
\begin{DoxyCompactList}\small\item\em The next collective step to execute across all resident elements across all nodes. \end{DoxyCompactList}\item 
void \hyperlink{classvt_1_1messaging_1_1_collection_chain_set_afcb749b22063068d060f35fdcd2320b3}{phase\+Done} ()
\begin{DoxyCompactList}\small\item\em Indicate that the current phase is complete. Resets the state on each {\ttfamily \hyperlink{classvt_1_1messaging_1_1_dependent_send_chain}{Dependent\+Send\+Chain}}. \end{DoxyCompactList}\item 
std\+::unordered\+\_\+set$<$ Index $>$ \hyperlink{classvt_1_1messaging_1_1_collection_chain_set_a17bcba0392b2ae7c68a3c3630b71ffa3}{get\+Set} ()
\begin{DoxyCompactList}\small\item\em Get the set of indices registered with this chain set. \end{DoxyCompactList}\item 
void \hyperlink{classvt_1_1messaging_1_1_collection_chain_set_a5768b5b636799860a63ab182a1e34c9a}{foreach} (std\+::function$<$ void(Index)$>$ fn)
\begin{DoxyCompactList}\small\item\em Run a lambda immediately on each element in the index set. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
\subsubsection*{template$<$class Index$>$\newline
struct vt\+::messaging\+::\+Collection\+Chain\+Set$<$ Index $>$}

A set of chains to maintain a sequence for a set of collection elements that may be local or remote. 

Manages a set of chains (sequences) on a set of elements where this is constructed. It may sequence objects that reside on this node or a remote node (either is valid). This enables the user to enqueue sequences of tasks on each object and coordinate data dependencies. 

\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classvt_1_1messaging_1_1_collection_chain_set_aeb43ad4a2e46ea059817b639b72ddb3b}\label{classvt_1_1messaging_1_1_collection_chain_set_aeb43ad4a2e46ea059817b639b72ddb3b}} 
\index{vt\+::messaging\+::\+Collection\+Chain\+Set@{vt\+::messaging\+::\+Collection\+Chain\+Set}!Collection\+Chain\+Set@{Collection\+Chain\+Set}}
\index{Collection\+Chain\+Set@{Collection\+Chain\+Set}!vt\+::messaging\+::\+Collection\+Chain\+Set@{vt\+::messaging\+::\+Collection\+Chain\+Set}}
\subsubsection{\texorpdfstring{Collection\+Chain\+Set()}{CollectionChainSet()}\hspace{0.1cm}{\footnotesize\ttfamily [1/3]}}
{\footnotesize\ttfamily template$<$class Index $>$ \\
\hyperlink{classvt_1_1messaging_1_1_collection_chain_set}{vt\+::messaging\+::\+Collection\+Chain\+Set}$<$ Index $>$\+::\hyperlink{classvt_1_1messaging_1_1_collection_chain_set}{Collection\+Chain\+Set} (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [default]}}

\mbox{\Hypertarget{classvt_1_1messaging_1_1_collection_chain_set_a71328cb5c03210ffdb0bd5dd5f3b6797}\label{classvt_1_1messaging_1_1_collection_chain_set_a71328cb5c03210ffdb0bd5dd5f3b6797}} 
\index{vt\+::messaging\+::\+Collection\+Chain\+Set@{vt\+::messaging\+::\+Collection\+Chain\+Set}!Collection\+Chain\+Set@{Collection\+Chain\+Set}}
\index{Collection\+Chain\+Set@{Collection\+Chain\+Set}!vt\+::messaging\+::\+Collection\+Chain\+Set@{vt\+::messaging\+::\+Collection\+Chain\+Set}}
\subsubsection{\texorpdfstring{Collection\+Chain\+Set()}{CollectionChainSet()}\hspace{0.1cm}{\footnotesize\ttfamily [2/3]}}
{\footnotesize\ttfamily template$<$class Index $>$ \\
\hyperlink{classvt_1_1messaging_1_1_collection_chain_set}{vt\+::messaging\+::\+Collection\+Chain\+Set}$<$ Index $>$\+::\hyperlink{classvt_1_1messaging_1_1_collection_chain_set}{Collection\+Chain\+Set} (\begin{DoxyParamCaption}\item[{const \hyperlink{classvt_1_1messaging_1_1_collection_chain_set}{Collection\+Chain\+Set}$<$ Index $>$ \&}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [delete]}}

\mbox{\Hypertarget{classvt_1_1messaging_1_1_collection_chain_set_a21be566436c86fa59a02a1bd073a9e48}\label{classvt_1_1messaging_1_1_collection_chain_set_a21be566436c86fa59a02a1bd073a9e48}} 
\index{vt\+::messaging\+::\+Collection\+Chain\+Set@{vt\+::messaging\+::\+Collection\+Chain\+Set}!Collection\+Chain\+Set@{Collection\+Chain\+Set}}
\index{Collection\+Chain\+Set@{Collection\+Chain\+Set}!vt\+::messaging\+::\+Collection\+Chain\+Set@{vt\+::messaging\+::\+Collection\+Chain\+Set}}
\subsubsection{\texorpdfstring{Collection\+Chain\+Set()}{CollectionChainSet()}\hspace{0.1cm}{\footnotesize\ttfamily [3/3]}}
{\footnotesize\ttfamily template$<$class Index $>$ \\
\hyperlink{classvt_1_1messaging_1_1_collection_chain_set}{vt\+::messaging\+::\+Collection\+Chain\+Set}$<$ Index $>$\+::\hyperlink{classvt_1_1messaging_1_1_collection_chain_set}{Collection\+Chain\+Set} (\begin{DoxyParamCaption}\item[{\hyperlink{classvt_1_1messaging_1_1_collection_chain_set}{Collection\+Chain\+Set}$<$ Index $>$ \&\&}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [delete]}}



\subsection{Member Function Documentation}
\mbox{\Hypertarget{classvt_1_1messaging_1_1_collection_chain_set_aefc11c9b011b4916c3b80dfc8f776239}\label{classvt_1_1messaging_1_1_collection_chain_set_aefc11c9b011b4916c3b80dfc8f776239}} 
\index{vt\+::messaging\+::\+Collection\+Chain\+Set@{vt\+::messaging\+::\+Collection\+Chain\+Set}!add\+Index@{add\+Index}}
\index{add\+Index@{add\+Index}!vt\+::messaging\+::\+Collection\+Chain\+Set@{vt\+::messaging\+::\+Collection\+Chain\+Set}}
\subsubsection{\texorpdfstring{add\+Index()}{addIndex()}}
{\footnotesize\ttfamily template$<$class Index $>$ \\
void \hyperlink{classvt_1_1messaging_1_1_collection_chain_set}{vt\+::messaging\+::\+Collection\+Chain\+Set}$<$ Index $>$\+::add\+Index (\begin{DoxyParamCaption}\item[{Index}]{idx }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Add an index to the set. 

Creates a new, empty {\ttfamily \hyperlink{classvt_1_1messaging_1_1_dependent_send_chain}{Dependent\+Send\+Chain}} for the given index


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em idx} & the index to add \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classvt_1_1messaging_1_1_collection_chain_set_a5768b5b636799860a63ab182a1e34c9a}\label{classvt_1_1messaging_1_1_collection_chain_set_a5768b5b636799860a63ab182a1e34c9a}} 
\index{vt\+::messaging\+::\+Collection\+Chain\+Set@{vt\+::messaging\+::\+Collection\+Chain\+Set}!foreach@{foreach}}
\index{foreach@{foreach}!vt\+::messaging\+::\+Collection\+Chain\+Set@{vt\+::messaging\+::\+Collection\+Chain\+Set}}
\subsubsection{\texorpdfstring{foreach()}{foreach()}}
{\footnotesize\ttfamily template$<$class Index $>$ \\
void \hyperlink{classvt_1_1messaging_1_1_collection_chain_set}{vt\+::messaging\+::\+Collection\+Chain\+Set}$<$ Index $>$\+::foreach (\begin{DoxyParamCaption}\item[{std\+::function$<$ void(Index)$>$}]{fn }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Run a lambda immediately on each element in the index set. 

\mbox{\Hypertarget{classvt_1_1messaging_1_1_collection_chain_set_a17bcba0392b2ae7c68a3c3630b71ffa3}\label{classvt_1_1messaging_1_1_collection_chain_set_a17bcba0392b2ae7c68a3c3630b71ffa3}} 
\index{vt\+::messaging\+::\+Collection\+Chain\+Set@{vt\+::messaging\+::\+Collection\+Chain\+Set}!get\+Set@{get\+Set}}
\index{get\+Set@{get\+Set}!vt\+::messaging\+::\+Collection\+Chain\+Set@{vt\+::messaging\+::\+Collection\+Chain\+Set}}
\subsubsection{\texorpdfstring{get\+Set()}{getSet()}}
{\footnotesize\ttfamily template$<$class Index $>$ \\
std\+::unordered\+\_\+set$<$Index$>$ \hyperlink{classvt_1_1messaging_1_1_collection_chain_set}{vt\+::messaging\+::\+Collection\+Chain\+Set}$<$ Index $>$\+::get\+Set (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Get the set of indices registered with this chain set. 

\mbox{\Hypertarget{classvt_1_1messaging_1_1_collection_chain_set_aa6ab934f32d8623872cfcd7ed9e147b2}\label{classvt_1_1messaging_1_1_collection_chain_set_aa6ab934f32d8623872cfcd7ed9e147b2}} 
\index{vt\+::messaging\+::\+Collection\+Chain\+Set@{vt\+::messaging\+::\+Collection\+Chain\+Set}!next\+Step@{next\+Step}}
\index{next\+Step@{next\+Step}!vt\+::messaging\+::\+Collection\+Chain\+Set@{vt\+::messaging\+::\+Collection\+Chain\+Set}}
\subsubsection{\texorpdfstring{next\+Step()}{nextStep()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily template$<$class Index $>$ \\
void \hyperlink{classvt_1_1messaging_1_1_collection_chain_set}{vt\+::messaging\+::\+Collection\+Chain\+Set}$<$ Index $>$\+::next\+Step (\begin{DoxyParamCaption}\item[{std\+::string const \&}]{label,  }\item[{std\+::function$<$ \hyperlink{structvt_1_1messaging_1_1_pending_send}{Pending\+Send}(Index)$>$}]{step\+\_\+action }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



The next step to execute on all the chains resident in this collection chain set. 

Goes through every resident chain and enqueues the action at the end of the current chain when the preceding steps terminate. Creates a new rooted epoch for this step to contain/track completion of all the causally related messages.


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em label} & Label for the epoch created for debugging \\
\hline
\mbox{\tt in}  & {\em step\+\_\+action} & The action to perform as a function that returns a {\ttfamily \hyperlink{structvt_1_1messaging_1_1_pending_send}{Pending\+Send}} \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classvt_1_1messaging_1_1_collection_chain_set_aa4e8a0a24fa7cde6e7f729f4dd002e64}\label{classvt_1_1messaging_1_1_collection_chain_set_aa4e8a0a24fa7cde6e7f729f4dd002e64}} 
\index{vt\+::messaging\+::\+Collection\+Chain\+Set@{vt\+::messaging\+::\+Collection\+Chain\+Set}!next\+Step@{next\+Step}}
\index{next\+Step@{next\+Step}!vt\+::messaging\+::\+Collection\+Chain\+Set@{vt\+::messaging\+::\+Collection\+Chain\+Set}}
\subsubsection{\texorpdfstring{next\+Step()}{nextStep()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily template$<$class Index $>$ \\
void \hyperlink{classvt_1_1messaging_1_1_collection_chain_set}{vt\+::messaging\+::\+Collection\+Chain\+Set}$<$ Index $>$\+::next\+Step (\begin{DoxyParamCaption}\item[{std\+::function$<$ \hyperlink{structvt_1_1messaging_1_1_pending_send}{Pending\+Send}(Index)$>$}]{step\+\_\+action }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



The next step to execute on all the chains resident in this collection chain set. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em step\+\_\+action} & The action to perform as a function that returns a {\ttfamily \hyperlink{structvt_1_1messaging_1_1_pending_send}{Pending\+Send}} \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classvt_1_1messaging_1_1_collection_chain_set_a095bc4907c3bd60668483de52b79b08e}\label{classvt_1_1messaging_1_1_collection_chain_set_a095bc4907c3bd60668483de52b79b08e}} 
\index{vt\+::messaging\+::\+Collection\+Chain\+Set@{vt\+::messaging\+::\+Collection\+Chain\+Set}!next\+Step\+Collective@{next\+Step\+Collective}}
\index{next\+Step\+Collective@{next\+Step\+Collective}!vt\+::messaging\+::\+Collection\+Chain\+Set@{vt\+::messaging\+::\+Collection\+Chain\+Set}}
\subsubsection{\texorpdfstring{next\+Step\+Collective()}{nextStepCollective()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily template$<$class Index $>$ \\
void \hyperlink{classvt_1_1messaging_1_1_collection_chain_set}{vt\+::messaging\+::\+Collection\+Chain\+Set}$<$ Index $>$\+::next\+Step\+Collective (\begin{DoxyParamCaption}\item[{std\+::string const \&}]{label,  }\item[{std\+::function$<$ \hyperlink{structvt_1_1messaging_1_1_pending_send}{Pending\+Send}(Index)$>$}]{step\+\_\+action }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



The next collective step to execute across all resident elements across all nodes. 

Should be used for steps with internal recursive communication and global inter-\/dependence. Creates a global (on the communicator), collective epoch to track all the casually related messages and collectively wait for termination of all of the recursive sends..


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em label} & Label for the epoch created for debugging \\
\hline
\mbox{\tt in}  & {\em step\+\_\+action} & the next step to execute, returning a {\ttfamily \hyperlink{structvt_1_1messaging_1_1_pending_send}{Pending\+Send}} \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classvt_1_1messaging_1_1_collection_chain_set_a7d226984e696278b9ca7e539c974bab4}\label{classvt_1_1messaging_1_1_collection_chain_set_a7d226984e696278b9ca7e539c974bab4}} 
\index{vt\+::messaging\+::\+Collection\+Chain\+Set@{vt\+::messaging\+::\+Collection\+Chain\+Set}!next\+Step\+Collective@{next\+Step\+Collective}}
\index{next\+Step\+Collective@{next\+Step\+Collective}!vt\+::messaging\+::\+Collection\+Chain\+Set@{vt\+::messaging\+::\+Collection\+Chain\+Set}}
\subsubsection{\texorpdfstring{next\+Step\+Collective()}{nextStepCollective()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily template$<$class Index $>$ \\
void \hyperlink{classvt_1_1messaging_1_1_collection_chain_set}{vt\+::messaging\+::\+Collection\+Chain\+Set}$<$ Index $>$\+::next\+Step\+Collective (\begin{DoxyParamCaption}\item[{std\+::function$<$ \hyperlink{structvt_1_1messaging_1_1_pending_send}{Pending\+Send}(Index)$>$}]{step\+\_\+action }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



The next collective step to execute across all resident elements across all nodes. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em step\+\_\+action} & the next step to execute, returning a {\ttfamily \hyperlink{structvt_1_1messaging_1_1_pending_send}{Pending\+Send}} \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classvt_1_1messaging_1_1_collection_chain_set_afcb749b22063068d060f35fdcd2320b3}\label{classvt_1_1messaging_1_1_collection_chain_set_afcb749b22063068d060f35fdcd2320b3}} 
\index{vt\+::messaging\+::\+Collection\+Chain\+Set@{vt\+::messaging\+::\+Collection\+Chain\+Set}!phase\+Done@{phase\+Done}}
\index{phase\+Done@{phase\+Done}!vt\+::messaging\+::\+Collection\+Chain\+Set@{vt\+::messaging\+::\+Collection\+Chain\+Set}}
\subsubsection{\texorpdfstring{phase\+Done()}{phaseDone()}}
{\footnotesize\ttfamily template$<$class Index $>$ \\
void \hyperlink{classvt_1_1messaging_1_1_collection_chain_set}{vt\+::messaging\+::\+Collection\+Chain\+Set}$<$ Index $>$\+::phase\+Done (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Indicate that the current phase is complete. Resets the state on each {\ttfamily \hyperlink{classvt_1_1messaging_1_1_dependent_send_chain}{Dependent\+Send\+Chain}}. 

\mbox{\Hypertarget{classvt_1_1messaging_1_1_collection_chain_set_a299e52c482aba47bcdabe796d236c043}\label{classvt_1_1messaging_1_1_collection_chain_set_a299e52c482aba47bcdabe796d236c043}} 
\index{vt\+::messaging\+::\+Collection\+Chain\+Set@{vt\+::messaging\+::\+Collection\+Chain\+Set}!remove\+Index@{remove\+Index}}
\index{remove\+Index@{remove\+Index}!vt\+::messaging\+::\+Collection\+Chain\+Set@{vt\+::messaging\+::\+Collection\+Chain\+Set}}
\subsubsection{\texorpdfstring{remove\+Index()}{removeIndex()}}
{\footnotesize\ttfamily template$<$class Index $>$ \\
void \hyperlink{classvt_1_1messaging_1_1_collection_chain_set}{vt\+::messaging\+::\+Collection\+Chain\+Set}$<$ Index $>$\+::remove\+Index (\begin{DoxyParamCaption}\item[{Index}]{idx }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Remove an index from the set. 

The chain for that index being removed must be terminated (at the end of the chain). This may be called during migration or when a collection element\textquotesingle{}s control sequencing is no longer being tracked (on this node) with this chain set


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em idx} & the index to remove \\
\hline
\end{DoxyParams}


The documentation for this struct was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
src/vt/messaging/\hyperlink{collection__chain__set_8h}{collection\+\_\+chain\+\_\+set.\+h}\end{DoxyCompactItemize}
