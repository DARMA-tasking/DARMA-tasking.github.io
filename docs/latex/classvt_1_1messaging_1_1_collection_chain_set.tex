\hypertarget{classvt_1_1messaging_1_1_collection_chain_set}{}\doxysection{vt\+::messaging\+::Collection\+Chain\+Set$<$ Index $>$ Struct Template Reference}
\label{classvt_1_1messaging_1_1_collection_chain_set}\index{vt::messaging::CollectionChainSet$<$ Index $>$@{vt::messaging::CollectionChainSet$<$ Index $>$}}


A set of chains to maintain a sequence for a set of collection elements that may be local or remote.  




{\ttfamily \#include $<$vt/messaging/collection\+\_\+chain\+\_\+set.\+h$>$}

\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structvt_1_1messaging_1_1_collection_chain_set_1_1_idx_msg}{Idx\+Msg}}
\begin{DoxyCompactList}\small\item\em Message that contains an index sent to remove or add remotely. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classvt_1_1messaging_1_1_collection_chain_set_aeb43ad4a2e46ea059817b639b72ddb3b}{Collection\+Chain\+Set}} ()=default
\item 
\mbox{\hyperlink{classvt_1_1messaging_1_1_collection_chain_set_a71328cb5c03210ffdb0bd5dd5f3b6797}{Collection\+Chain\+Set}} (const \mbox{\hyperlink{classvt_1_1messaging_1_1_collection_chain_set}{Collection\+Chain\+Set}} \&)=delete
\item 
\mbox{\hyperlink{classvt_1_1messaging_1_1_collection_chain_set_a21be566436c86fa59a02a1bd073a9e48}{Collection\+Chain\+Set}} (\mbox{\hyperlink{classvt_1_1messaging_1_1_collection_chain_set}{Collection\+Chain\+Set}} \&\&)=delete
\item 
{\footnotesize template$<$typename ProxyT , typename IndexT  = typename Proxy\+T\+::\+Index\+Type$>$ }\\\mbox{\hyperlink{classvt_1_1messaging_1_1_collection_chain_set_a307795a4cfc6c794ea3979655a97be91}{Collection\+Chain\+Set}} (ProxyT proxy, \mbox{\hyperlink{namespacevt_1_1messaging_af09e66b5a14598baf7e4b56ad6080ec2}{Chain\+Set\+Layout}} layout=\mbox{\hyperlink{namespacevt_1_1messaging_af09e66b5a14598baf7e4b56ad6080ec2a010b35e408e991d56531802665998408}{Local}})
\begin{DoxyCompactList}\small\item\em Construct with a collection proxy to track indices on each node depending on the layout specified. Tracking dependencies on the local node may be better for performance as it may reduce the number of messages that must be sent. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classvt_1_1messaging_1_1_collection_chain_set_a8ee6333242f51748e17328f185b3b999}{$\sim$\+Collection\+Chain\+Set}} ()
\item 
void \mbox{\hyperlink{classvt_1_1messaging_1_1_collection_chain_set_aefc11c9b011b4916c3b80dfc8f776239}{add\+Index}} (Index idx)
\begin{DoxyCompactList}\small\item\em Add an index to the set. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classvt_1_1messaging_1_1_collection_chain_set_a299e52c482aba47bcdabe796d236c043}{remove\+Index}} (Index idx)
\begin{DoxyCompactList}\small\item\em Remove an index from the set. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classvt_1_1messaging_1_1_collection_chain_set_aa6ab934f32d8623872cfcd7ed9e147b2}{next\+Step}} (std\+::string const \&label, std\+::function$<$ \mbox{\hyperlink{structvt_1_1messaging_1_1_pending_send}{Pending\+Send}}(Index)$>$ step\+\_\+action)
\begin{DoxyCompactList}\small\item\em The next step to execute on all the chain indices in this collection chain set. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classvt_1_1messaging_1_1_collection_chain_set_aa4e8a0a24fa7cde6e7f729f4dd002e64}{next\+Step}} (std\+::function$<$ \mbox{\hyperlink{structvt_1_1messaging_1_1_pending_send}{Pending\+Send}}(Index)$>$ step\+\_\+action)
\begin{DoxyCompactList}\small\item\em The next step to execute on all the chain indices in this collection chain set. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classvt_1_1messaging_1_1_collection_chain_set_a095bc4907c3bd60668483de52b79b08e}{next\+Step\+Collective}} (std\+::string const \&label, std\+::function$<$ \mbox{\hyperlink{structvt_1_1messaging_1_1_pending_send}{Pending\+Send}}(Index)$>$ step\+\_\+action)
\begin{DoxyCompactList}\small\item\em The next collective step to execute for each index that is added to the \mbox{\hyperlink{classvt_1_1messaging_1_1_collection_chain_set}{Collection\+Chain\+Set}} on each node. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classvt_1_1messaging_1_1_collection_chain_set_a7d226984e696278b9ca7e539c974bab4}{next\+Step\+Collective}} (std\+::function$<$ \mbox{\hyperlink{structvt_1_1messaging_1_1_pending_send}{Pending\+Send}}(Index)$>$ step\+\_\+action)
\begin{DoxyCompactList}\small\item\em The next collective step to execute for each index that is added to the \mbox{\hyperlink{classvt_1_1messaging_1_1_collection_chain_set}{Collection\+Chain\+Set}} on each node. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classvt_1_1messaging_1_1_collection_chain_set_afcb749b22063068d060f35fdcd2320b3}{phase\+Done}} ()
\begin{DoxyCompactList}\small\item\em Indicate that the current phase is complete. Resets the state on each {\ttfamily \mbox{\hyperlink{classvt_1_1messaging_1_1_dependent_send_chain}{Dependent\+Send\+Chain}}}. \end{DoxyCompactList}\item 
std\+::unordered\+\_\+set$<$ Index $>$ \mbox{\hyperlink{classvt_1_1messaging_1_1_collection_chain_set_a17bcba0392b2ae7c68a3c3630b71ffa3}{get\+Set}} ()
\begin{DoxyCompactList}\small\item\em Get the set of indices registered with this chain set. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classvt_1_1messaging_1_1_collection_chain_set_a5768b5b636799860a63ab182a1e34c9a}{foreach}} (std\+::function$<$ void(Index)$>$ fn)
\begin{DoxyCompactList}\small\item\em Run a lambda immediately on each element in the index set. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static void \mbox{\hyperlink{classvt_1_1messaging_1_1_collection_chain_set_a982745c451229365b57a15a87dc2999e}{merge\+Step\+Collective}} (\mbox{\hyperlink{classvt_1_1messaging_1_1_collection_chain_set}{Collection\+Chain\+Set}} \&a, \mbox{\hyperlink{classvt_1_1messaging_1_1_collection_chain_set}{Collection\+Chain\+Set}} \&b, std\+::function$<$ \mbox{\hyperlink{structvt_1_1messaging_1_1_pending_send}{Pending\+Send}}(Index)$>$ step\+\_\+action)
\begin{DoxyCompactList}\small\item\em The next collective step of both Collection\+Chain\+Sets to execute over all shared indices of the Collection\+Chain\+Sets over all nodes. \end{DoxyCompactList}\item 
static void \mbox{\hyperlink{classvt_1_1messaging_1_1_collection_chain_set_a6560ca64c07967bbd81c57dcd009dd60}{merge\+Step\+Collective}} (std\+::string const \&label, \mbox{\hyperlink{classvt_1_1messaging_1_1_collection_chain_set}{Collection\+Chain\+Set}} \&a, \mbox{\hyperlink{classvt_1_1messaging_1_1_collection_chain_set}{Collection\+Chain\+Set}} \&b, std\+::function$<$ \mbox{\hyperlink{structvt_1_1messaging_1_1_pending_send}{Pending\+Send}}(Index)$>$ step\+\_\+action)
\begin{DoxyCompactList}\small\item\em The next collective step of both Collection\+Chain\+Sets to execute over all shared indices of the Collection\+Chain\+Sets over all nodes. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{classvt_1_1messaging_1_1_collection_chain_set_af1b3ca58d3d018fa2a81b86d62fec4ff}{add\+Index\+Han}} (\mbox{\hyperlink{structvt_1_1messaging_1_1_collection_chain_set_1_1_idx_msg}{Idx\+Msg}} $\ast$msg)
\item 
void \mbox{\hyperlink{classvt_1_1messaging_1_1_collection_chain_set_abbc0c0995c4961fcd07f46303b06d58e}{remove\+Index\+Han}} (\mbox{\hyperlink{structvt_1_1messaging_1_1_collection_chain_set_1_1_idx_msg}{Idx\+Msg}} $\ast$msg)
\begin{DoxyCompactList}\small\item\em Remove an index remotely. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
std\+::unordered\+\_\+map$<$ Index, \mbox{\hyperlink{classvt_1_1messaging_1_1_dependent_send_chain}{Dependent\+Send\+Chain}} $>$ \mbox{\hyperlink{classvt_1_1messaging_1_1_collection_chain_set_afd05e48d93d231320364149fd538beab}{chains\+\_\+}}
\begin{DoxyCompactList}\small\item\em Set of {\ttfamily \mbox{\hyperlink{classvt_1_1messaging_1_1_dependent_send_chain}{Dependent\+Send\+Chain}}} managed on this node for indices. \end{DoxyCompactList}\item 
std\+::function$<$ void()$>$ \mbox{\hyperlink{classvt_1_1messaging_1_1_collection_chain_set_a0c471bdf6ef26c2ca5c214bdda8eb866}{deallocator\+\_\+}}
\begin{DoxyCompactList}\small\item\em Deallocator that type erases element listener de-\/registration. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\subsubsection*{template$<$typename Index$>$\newline
struct vt\+::messaging\+::\+Collection\+Chain\+Set$<$ Index $>$}

A set of chains to maintain a sequence for a set of collection elements that may be local or remote. 

Manages a set of chains (sequences) on a set of elements where this is constructed. It may sequence objects that reside on this node or a remote node (either is valid). This enables the user to enqueue sequences of tasks on each object and coordinate data dependencies. 

\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classvt_1_1messaging_1_1_collection_chain_set_aeb43ad4a2e46ea059817b639b72ddb3b}\label{classvt_1_1messaging_1_1_collection_chain_set_aeb43ad4a2e46ea059817b639b72ddb3b}} 
\index{vt::messaging::CollectionChainSet$<$ Index $>$@{vt::messaging::CollectionChainSet$<$ Index $>$}!CollectionChainSet@{CollectionChainSet}}
\index{CollectionChainSet@{CollectionChainSet}!vt::messaging::CollectionChainSet$<$ Index $>$@{vt::messaging::CollectionChainSet$<$ Index $>$}}
\doxysubsubsection{\texorpdfstring{CollectionChainSet()}{CollectionChainSet()}\hspace{0.1cm}{\footnotesize\ttfamily [1/4]}}
{\footnotesize\ttfamily template$<$typename Index$>$ \\
\mbox{\hyperlink{classvt_1_1messaging_1_1_collection_chain_set}{vt\+::messaging\+::\+Collection\+Chain\+Set}}$<$ Index $>$\+::\mbox{\hyperlink{classvt_1_1messaging_1_1_collection_chain_set}{Collection\+Chain\+Set}} (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [default]}}

\mbox{\Hypertarget{classvt_1_1messaging_1_1_collection_chain_set_a71328cb5c03210ffdb0bd5dd5f3b6797}\label{classvt_1_1messaging_1_1_collection_chain_set_a71328cb5c03210ffdb0bd5dd5f3b6797}} 
\index{vt::messaging::CollectionChainSet$<$ Index $>$@{vt::messaging::CollectionChainSet$<$ Index $>$}!CollectionChainSet@{CollectionChainSet}}
\index{CollectionChainSet@{CollectionChainSet}!vt::messaging::CollectionChainSet$<$ Index $>$@{vt::messaging::CollectionChainSet$<$ Index $>$}}
\doxysubsubsection{\texorpdfstring{CollectionChainSet()}{CollectionChainSet()}\hspace{0.1cm}{\footnotesize\ttfamily [2/4]}}
{\footnotesize\ttfamily template$<$typename Index$>$ \\
\mbox{\hyperlink{classvt_1_1messaging_1_1_collection_chain_set}{vt\+::messaging\+::\+Collection\+Chain\+Set}}$<$ Index $>$\+::\mbox{\hyperlink{classvt_1_1messaging_1_1_collection_chain_set}{Collection\+Chain\+Set}} (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classvt_1_1messaging_1_1_collection_chain_set}{Collection\+Chain\+Set}}$<$ Index $>$ \&}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [delete]}}

\mbox{\Hypertarget{classvt_1_1messaging_1_1_collection_chain_set_a21be566436c86fa59a02a1bd073a9e48}\label{classvt_1_1messaging_1_1_collection_chain_set_a21be566436c86fa59a02a1bd073a9e48}} 
\index{vt::messaging::CollectionChainSet$<$ Index $>$@{vt::messaging::CollectionChainSet$<$ Index $>$}!CollectionChainSet@{CollectionChainSet}}
\index{CollectionChainSet@{CollectionChainSet}!vt::messaging::CollectionChainSet$<$ Index $>$@{vt::messaging::CollectionChainSet$<$ Index $>$}}
\doxysubsubsection{\texorpdfstring{CollectionChainSet()}{CollectionChainSet()}\hspace{0.1cm}{\footnotesize\ttfamily [3/4]}}
{\footnotesize\ttfamily template$<$typename Index$>$ \\
\mbox{\hyperlink{classvt_1_1messaging_1_1_collection_chain_set}{vt\+::messaging\+::\+Collection\+Chain\+Set}}$<$ Index $>$\+::\mbox{\hyperlink{classvt_1_1messaging_1_1_collection_chain_set}{Collection\+Chain\+Set}} (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classvt_1_1messaging_1_1_collection_chain_set}{Collection\+Chain\+Set}}$<$ Index $>$ \&\&}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [delete]}}

\mbox{\Hypertarget{classvt_1_1messaging_1_1_collection_chain_set_a307795a4cfc6c794ea3979655a97be91}\label{classvt_1_1messaging_1_1_collection_chain_set_a307795a4cfc6c794ea3979655a97be91}} 
\index{vt::messaging::CollectionChainSet$<$ Index $>$@{vt::messaging::CollectionChainSet$<$ Index $>$}!CollectionChainSet@{CollectionChainSet}}
\index{CollectionChainSet@{CollectionChainSet}!vt::messaging::CollectionChainSet$<$ Index $>$@{vt::messaging::CollectionChainSet$<$ Index $>$}}
\doxysubsubsection{\texorpdfstring{CollectionChainSet()}{CollectionChainSet()}\hspace{0.1cm}{\footnotesize\ttfamily [4/4]}}
{\footnotesize\ttfamily template$<$typename Index $>$ \\
template$<$typename ProxyT , typename IndexT $>$ \\
\mbox{\hyperlink{classvt_1_1messaging_1_1_collection_chain_set}{vt\+::messaging\+::\+Collection\+Chain\+Set}}$<$ Index $>$\+::\mbox{\hyperlink{classvt_1_1messaging_1_1_collection_chain_set}{Collection\+Chain\+Set}} (\begin{DoxyParamCaption}\item[{ProxyT}]{proxy,  }\item[{\mbox{\hyperlink{namespacevt_1_1messaging_af09e66b5a14598baf7e4b56ad6080ec2}{Chain\+Set\+Layout}}}]{layout = {\ttfamily \mbox{\hyperlink{namespacevt_1_1messaging_af09e66b5a14598baf7e4b56ad6080ec2a010b35e408e991d56531802665998408}{Local}}} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [explicit]}}



Construct with a collection proxy to track indices on each node depending on the layout specified. Tracking dependencies on the local node may be better for performance as it may reduce the number of messages that must be sent. 

\begin{DoxyNote}{Note}
This constructor is a collective invocation.
\end{DoxyNote}

\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em proxy} & the collection proxy \\
\hline
\mbox{\texttt{ in}}  & {\em layout} & the location the chain set tracks each element \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classvt_1_1messaging_1_1_collection_chain_set_a8ee6333242f51748e17328f185b3b999}\label{classvt_1_1messaging_1_1_collection_chain_set_a8ee6333242f51748e17328f185b3b999}} 
\index{vt::messaging::CollectionChainSet$<$ Index $>$@{vt::messaging::CollectionChainSet$<$ Index $>$}!````~CollectionChainSet@{$\sim$CollectionChainSet}}
\index{````~CollectionChainSet@{$\sim$CollectionChainSet}!vt::messaging::CollectionChainSet$<$ Index $>$@{vt::messaging::CollectionChainSet$<$ Index $>$}}
\doxysubsubsection{\texorpdfstring{$\sim$CollectionChainSet()}{~CollectionChainSet()}}
{\footnotesize\ttfamily template$<$typename Index$>$ \\
\mbox{\hyperlink{classvt_1_1messaging_1_1_collection_chain_set}{vt\+::messaging\+::\+Collection\+Chain\+Set}}$<$ Index $>$\+::$\sim$\mbox{\hyperlink{classvt_1_1messaging_1_1_collection_chain_set}{Collection\+Chain\+Set}} (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classvt_1_1messaging_1_1_collection_chain_set_aefc11c9b011b4916c3b80dfc8f776239}\label{classvt_1_1messaging_1_1_collection_chain_set_aefc11c9b011b4916c3b80dfc8f776239}} 
\index{vt::messaging::CollectionChainSet$<$ Index $>$@{vt::messaging::CollectionChainSet$<$ Index $>$}!addIndex@{addIndex}}
\index{addIndex@{addIndex}!vt::messaging::CollectionChainSet$<$ Index $>$@{vt::messaging::CollectionChainSet$<$ Index $>$}}
\doxysubsubsection{\texorpdfstring{addIndex()}{addIndex()}}
{\footnotesize\ttfamily template$<$typename Index$>$ \\
void \mbox{\hyperlink{classvt_1_1messaging_1_1_collection_chain_set}{vt\+::messaging\+::\+Collection\+Chain\+Set}}$<$ Index $>$\+::add\+Index (\begin{DoxyParamCaption}\item[{Index}]{idx }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Add an index to the set. 

Creates a new, empty {\ttfamily \mbox{\hyperlink{classvt_1_1messaging_1_1_dependent_send_chain}{Dependent\+Send\+Chain}}} for the given index


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em idx} & the index to add \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classvt_1_1messaging_1_1_collection_chain_set_af1b3ca58d3d018fa2a81b86d62fec4ff}\label{classvt_1_1messaging_1_1_collection_chain_set_af1b3ca58d3d018fa2a81b86d62fec4ff}} 
\index{vt::messaging::CollectionChainSet$<$ Index $>$@{vt::messaging::CollectionChainSet$<$ Index $>$}!addIndexHan@{addIndexHan}}
\index{addIndexHan@{addIndexHan}!vt::messaging::CollectionChainSet$<$ Index $>$@{vt::messaging::CollectionChainSet$<$ Index $>$}}
\doxysubsubsection{\texorpdfstring{addIndexHan()}{addIndexHan()}}
{\footnotesize\ttfamily template$<$typename Index$>$ \\
void \mbox{\hyperlink{classvt_1_1messaging_1_1_collection_chain_set}{vt\+::messaging\+::\+Collection\+Chain\+Set}}$<$ Index $>$\+::add\+Index\+Han (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structvt_1_1messaging_1_1_collection_chain_set_1_1_idx_msg}{Idx\+Msg}} $\ast$}]{msg }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}

brief Add an index remotely


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em msg} & index message \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classvt_1_1messaging_1_1_collection_chain_set_a5768b5b636799860a63ab182a1e34c9a}\label{classvt_1_1messaging_1_1_collection_chain_set_a5768b5b636799860a63ab182a1e34c9a}} 
\index{vt::messaging::CollectionChainSet$<$ Index $>$@{vt::messaging::CollectionChainSet$<$ Index $>$}!foreach@{foreach}}
\index{foreach@{foreach}!vt::messaging::CollectionChainSet$<$ Index $>$@{vt::messaging::CollectionChainSet$<$ Index $>$}}
\doxysubsubsection{\texorpdfstring{foreach()}{foreach()}}
{\footnotesize\ttfamily template$<$typename Index$>$ \\
void \mbox{\hyperlink{classvt_1_1messaging_1_1_collection_chain_set}{vt\+::messaging\+::\+Collection\+Chain\+Set}}$<$ Index $>$\+::foreach (\begin{DoxyParamCaption}\item[{std\+::function$<$ void(Index)$>$}]{fn }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Run a lambda immediately on each element in the index set. 

\mbox{\Hypertarget{classvt_1_1messaging_1_1_collection_chain_set_a17bcba0392b2ae7c68a3c3630b71ffa3}\label{classvt_1_1messaging_1_1_collection_chain_set_a17bcba0392b2ae7c68a3c3630b71ffa3}} 
\index{vt::messaging::CollectionChainSet$<$ Index $>$@{vt::messaging::CollectionChainSet$<$ Index $>$}!getSet@{getSet}}
\index{getSet@{getSet}!vt::messaging::CollectionChainSet$<$ Index $>$@{vt::messaging::CollectionChainSet$<$ Index $>$}}
\doxysubsubsection{\texorpdfstring{getSet()}{getSet()}}
{\footnotesize\ttfamily template$<$typename Index$>$ \\
std\+::unordered\+\_\+set$<$Index$>$ \mbox{\hyperlink{classvt_1_1messaging_1_1_collection_chain_set}{vt\+::messaging\+::\+Collection\+Chain\+Set}}$<$ Index $>$\+::get\+Set (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Get the set of indices registered with this chain set. 

\mbox{\Hypertarget{classvt_1_1messaging_1_1_collection_chain_set_a982745c451229365b57a15a87dc2999e}\label{classvt_1_1messaging_1_1_collection_chain_set_a982745c451229365b57a15a87dc2999e}} 
\index{vt::messaging::CollectionChainSet$<$ Index $>$@{vt::messaging::CollectionChainSet$<$ Index $>$}!mergeStepCollective@{mergeStepCollective}}
\index{mergeStepCollective@{mergeStepCollective}!vt::messaging::CollectionChainSet$<$ Index $>$@{vt::messaging::CollectionChainSet$<$ Index $>$}}
\doxysubsubsection{\texorpdfstring{mergeStepCollective()}{mergeStepCollective()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily template$<$typename Index$>$ \\
static void \mbox{\hyperlink{classvt_1_1messaging_1_1_collection_chain_set}{vt\+::messaging\+::\+Collection\+Chain\+Set}}$<$ Index $>$\+::merge\+Step\+Collective (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classvt_1_1messaging_1_1_collection_chain_set}{Collection\+Chain\+Set}}$<$ Index $>$ \&}]{a,  }\item[{\mbox{\hyperlink{classvt_1_1messaging_1_1_collection_chain_set}{Collection\+Chain\+Set}}$<$ Index $>$ \&}]{b,  }\item[{std\+::function$<$ \mbox{\hyperlink{structvt_1_1messaging_1_1_pending_send}{Pending\+Send}}(Index)$>$}]{step\+\_\+action }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}



The next collective step of both Collection\+Chain\+Sets to execute over all shared indices of the Collection\+Chain\+Sets over all nodes. 

This function ensures that the step is dependent on the previous step of both chainsets a and b. Additionally any additional steps in each chainset will occur after the merged step.

\begin{DoxyPrecond}{Precondition}
Each index in Collection\+Chainset a must exist in Collection\+Chainset b
\end{DoxyPrecond}

\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em a} & the first chainset \\
\hline
\mbox{\texttt{ in}}  & {\em b} & the second chainset \\
\hline
\mbox{\texttt{ in}}  & {\em step\+\_\+action} & the next step to be executed, dependent on the previous step of chainsets a and b \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classvt_1_1messaging_1_1_collection_chain_set_a6560ca64c07967bbd81c57dcd009dd60}\label{classvt_1_1messaging_1_1_collection_chain_set_a6560ca64c07967bbd81c57dcd009dd60}} 
\index{vt::messaging::CollectionChainSet$<$ Index $>$@{vt::messaging::CollectionChainSet$<$ Index $>$}!mergeStepCollective@{mergeStepCollective}}
\index{mergeStepCollective@{mergeStepCollective}!vt::messaging::CollectionChainSet$<$ Index $>$@{vt::messaging::CollectionChainSet$<$ Index $>$}}
\doxysubsubsection{\texorpdfstring{mergeStepCollective()}{mergeStepCollective()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily template$<$typename Index$>$ \\
static void \mbox{\hyperlink{classvt_1_1messaging_1_1_collection_chain_set}{vt\+::messaging\+::\+Collection\+Chain\+Set}}$<$ Index $>$\+::merge\+Step\+Collective (\begin{DoxyParamCaption}\item[{std\+::string const \&}]{label,  }\item[{\mbox{\hyperlink{classvt_1_1messaging_1_1_collection_chain_set}{Collection\+Chain\+Set}}$<$ Index $>$ \&}]{a,  }\item[{\mbox{\hyperlink{classvt_1_1messaging_1_1_collection_chain_set}{Collection\+Chain\+Set}}$<$ Index $>$ \&}]{b,  }\item[{std\+::function$<$ \mbox{\hyperlink{structvt_1_1messaging_1_1_pending_send}{Pending\+Send}}(Index)$>$}]{step\+\_\+action }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}



The next collective step of both Collection\+Chain\+Sets to execute over all shared indices of the Collection\+Chain\+Sets over all nodes. 

This function ensures that the step is dependent on the previous step of both chainsets a and b. Additionally any additional steps in each chainset will occur after the merged step.

\begin{DoxyPrecond}{Precondition}
Each index in Collection\+Chainset a must exist in Collection\+Chainset b
\end{DoxyPrecond}

\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em label} & the label for the step \\
\hline
\mbox{\texttt{ in}}  & {\em a} & the first chainset \\
\hline
\mbox{\texttt{ in}}  & {\em b} & the second chainset \\
\hline
\mbox{\texttt{ in}}  & {\em step\+\_\+action} & the next step to be executed, dependent on the previous step of chainsets a and b \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classvt_1_1messaging_1_1_collection_chain_set_aa4e8a0a24fa7cde6e7f729f4dd002e64}\label{classvt_1_1messaging_1_1_collection_chain_set_aa4e8a0a24fa7cde6e7f729f4dd002e64}} 
\index{vt::messaging::CollectionChainSet$<$ Index $>$@{vt::messaging::CollectionChainSet$<$ Index $>$}!nextStep@{nextStep}}
\index{nextStep@{nextStep}!vt::messaging::CollectionChainSet$<$ Index $>$@{vt::messaging::CollectionChainSet$<$ Index $>$}}
\doxysubsubsection{\texorpdfstring{nextStep()}{nextStep()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily template$<$typename Index$>$ \\
void \mbox{\hyperlink{classvt_1_1messaging_1_1_collection_chain_set}{vt\+::messaging\+::\+Collection\+Chain\+Set}}$<$ Index $>$\+::next\+Step (\begin{DoxyParamCaption}\item[{std\+::function$<$ \mbox{\hyperlink{structvt_1_1messaging_1_1_pending_send}{Pending\+Send}}(Index)$>$}]{step\+\_\+action }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



The next step to execute on all the chain indices in this collection chain set. 

Goes through every chain index and enqueues the action at the end of the current chain when the preceding steps terminate. Creates a new rooted epoch for this step to contain/track completion of all the causally related messages.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em step\+\_\+action} & The action to perform as a function that returns a {\ttfamily \mbox{\hyperlink{structvt_1_1messaging_1_1_pending_send}{Pending\+Send}}} \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classvt_1_1messaging_1_1_collection_chain_set_aa6ab934f32d8623872cfcd7ed9e147b2}\label{classvt_1_1messaging_1_1_collection_chain_set_aa6ab934f32d8623872cfcd7ed9e147b2}} 
\index{vt::messaging::CollectionChainSet$<$ Index $>$@{vt::messaging::CollectionChainSet$<$ Index $>$}!nextStep@{nextStep}}
\index{nextStep@{nextStep}!vt::messaging::CollectionChainSet$<$ Index $>$@{vt::messaging::CollectionChainSet$<$ Index $>$}}
\doxysubsubsection{\texorpdfstring{nextStep()}{nextStep()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily template$<$typename Index$>$ \\
void \mbox{\hyperlink{classvt_1_1messaging_1_1_collection_chain_set}{vt\+::messaging\+::\+Collection\+Chain\+Set}}$<$ Index $>$\+::next\+Step (\begin{DoxyParamCaption}\item[{std\+::string const \&}]{label,  }\item[{std\+::function$<$ \mbox{\hyperlink{structvt_1_1messaging_1_1_pending_send}{Pending\+Send}}(Index)$>$}]{step\+\_\+action }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



The next step to execute on all the chain indices in this collection chain set. 

Goes through every chain index and enqueues the action at the end of the current chain when the preceding steps terminate. Creates a new rooted epoch for this step to contain/track completion of all the causally related messages.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em label} & Label for the epoch created for debugging \\
\hline
\mbox{\texttt{ in}}  & {\em step\+\_\+action} & The action to perform as a function that returns a {\ttfamily \mbox{\hyperlink{structvt_1_1messaging_1_1_pending_send}{Pending\+Send}}} \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classvt_1_1messaging_1_1_collection_chain_set_a7d226984e696278b9ca7e539c974bab4}\label{classvt_1_1messaging_1_1_collection_chain_set_a7d226984e696278b9ca7e539c974bab4}} 
\index{vt::messaging::CollectionChainSet$<$ Index $>$@{vt::messaging::CollectionChainSet$<$ Index $>$}!nextStepCollective@{nextStepCollective}}
\index{nextStepCollective@{nextStepCollective}!vt::messaging::CollectionChainSet$<$ Index $>$@{vt::messaging::CollectionChainSet$<$ Index $>$}}
\doxysubsubsection{\texorpdfstring{nextStepCollective()}{nextStepCollective()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily template$<$typename Index$>$ \\
void \mbox{\hyperlink{classvt_1_1messaging_1_1_collection_chain_set}{vt\+::messaging\+::\+Collection\+Chain\+Set}}$<$ Index $>$\+::next\+Step\+Collective (\begin{DoxyParamCaption}\item[{std\+::function$<$ \mbox{\hyperlink{structvt_1_1messaging_1_1_pending_send}{Pending\+Send}}(Index)$>$}]{step\+\_\+action }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



The next collective step to execute for each index that is added to the \mbox{\hyperlink{classvt_1_1messaging_1_1_collection_chain_set}{Collection\+Chain\+Set}} on each node. 

Should be used for steps with internal recursive communication and global inter-\/dependence. Creates a global (on the communicator), collective epoch to track all the casually related messages and collectively wait for termination of all of the recursive sends.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em step\+\_\+action} & the next step to execute, returning a {\ttfamily \mbox{\hyperlink{structvt_1_1messaging_1_1_pending_send}{Pending\+Send}}} \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classvt_1_1messaging_1_1_collection_chain_set_a095bc4907c3bd60668483de52b79b08e}\label{classvt_1_1messaging_1_1_collection_chain_set_a095bc4907c3bd60668483de52b79b08e}} 
\index{vt::messaging::CollectionChainSet$<$ Index $>$@{vt::messaging::CollectionChainSet$<$ Index $>$}!nextStepCollective@{nextStepCollective}}
\index{nextStepCollective@{nextStepCollective}!vt::messaging::CollectionChainSet$<$ Index $>$@{vt::messaging::CollectionChainSet$<$ Index $>$}}
\doxysubsubsection{\texorpdfstring{nextStepCollective()}{nextStepCollective()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily template$<$typename Index$>$ \\
void \mbox{\hyperlink{classvt_1_1messaging_1_1_collection_chain_set}{vt\+::messaging\+::\+Collection\+Chain\+Set}}$<$ Index $>$\+::next\+Step\+Collective (\begin{DoxyParamCaption}\item[{std\+::string const \&}]{label,  }\item[{std\+::function$<$ \mbox{\hyperlink{structvt_1_1messaging_1_1_pending_send}{Pending\+Send}}(Index)$>$}]{step\+\_\+action }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



The next collective step to execute for each index that is added to the \mbox{\hyperlink{classvt_1_1messaging_1_1_collection_chain_set}{Collection\+Chain\+Set}} on each node. 

Should be used for steps with internal recursive communication and global inter-\/dependence. Creates a global (on the communicator), collective epoch to track all the casually related messages and collectively wait for termination of all of the recursive sends.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em label} & Label for the epoch created for debugging \\
\hline
\mbox{\texttt{ in}}  & {\em step\+\_\+action} & the next step to execute, returning a {\ttfamily \mbox{\hyperlink{structvt_1_1messaging_1_1_pending_send}{Pending\+Send}}} \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classvt_1_1messaging_1_1_collection_chain_set_afcb749b22063068d060f35fdcd2320b3}\label{classvt_1_1messaging_1_1_collection_chain_set_afcb749b22063068d060f35fdcd2320b3}} 
\index{vt::messaging::CollectionChainSet$<$ Index $>$@{vt::messaging::CollectionChainSet$<$ Index $>$}!phaseDone@{phaseDone}}
\index{phaseDone@{phaseDone}!vt::messaging::CollectionChainSet$<$ Index $>$@{vt::messaging::CollectionChainSet$<$ Index $>$}}
\doxysubsubsection{\texorpdfstring{phaseDone()}{phaseDone()}}
{\footnotesize\ttfamily template$<$typename Index$>$ \\
void \mbox{\hyperlink{classvt_1_1messaging_1_1_collection_chain_set}{vt\+::messaging\+::\+Collection\+Chain\+Set}}$<$ Index $>$\+::phase\+Done (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Indicate that the current phase is complete. Resets the state on each {\ttfamily \mbox{\hyperlink{classvt_1_1messaging_1_1_dependent_send_chain}{Dependent\+Send\+Chain}}}. 

\mbox{\Hypertarget{classvt_1_1messaging_1_1_collection_chain_set_a299e52c482aba47bcdabe796d236c043}\label{classvt_1_1messaging_1_1_collection_chain_set_a299e52c482aba47bcdabe796d236c043}} 
\index{vt::messaging::CollectionChainSet$<$ Index $>$@{vt::messaging::CollectionChainSet$<$ Index $>$}!removeIndex@{removeIndex}}
\index{removeIndex@{removeIndex}!vt::messaging::CollectionChainSet$<$ Index $>$@{vt::messaging::CollectionChainSet$<$ Index $>$}}
\doxysubsubsection{\texorpdfstring{removeIndex()}{removeIndex()}}
{\footnotesize\ttfamily template$<$typename Index$>$ \\
void \mbox{\hyperlink{classvt_1_1messaging_1_1_collection_chain_set}{vt\+::messaging\+::\+Collection\+Chain\+Set}}$<$ Index $>$\+::remove\+Index (\begin{DoxyParamCaption}\item[{Index}]{idx }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Remove an index from the set. 

The chain for that index being removed must be terminated (at the end of the chain). This may be called during migration or when a collection element\textquotesingle{}s control sequencing is no longer being tracked (on this node) with this chain set


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em idx} & the index to remove \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classvt_1_1messaging_1_1_collection_chain_set_abbc0c0995c4961fcd07f46303b06d58e}\label{classvt_1_1messaging_1_1_collection_chain_set_abbc0c0995c4961fcd07f46303b06d58e}} 
\index{vt::messaging::CollectionChainSet$<$ Index $>$@{vt::messaging::CollectionChainSet$<$ Index $>$}!removeIndexHan@{removeIndexHan}}
\index{removeIndexHan@{removeIndexHan}!vt::messaging::CollectionChainSet$<$ Index $>$@{vt::messaging::CollectionChainSet$<$ Index $>$}}
\doxysubsubsection{\texorpdfstring{removeIndexHan()}{removeIndexHan()}}
{\footnotesize\ttfamily template$<$typename Index$>$ \\
void \mbox{\hyperlink{classvt_1_1messaging_1_1_collection_chain_set}{vt\+::messaging\+::\+Collection\+Chain\+Set}}$<$ Index $>$\+::remove\+Index\+Han (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structvt_1_1messaging_1_1_collection_chain_set_1_1_idx_msg}{Idx\+Msg}} $\ast$}]{msg }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}



Remove an index remotely. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em msg} & index message \\
\hline
\end{DoxyParams}


\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{classvt_1_1messaging_1_1_collection_chain_set_afd05e48d93d231320364149fd538beab}\label{classvt_1_1messaging_1_1_collection_chain_set_afd05e48d93d231320364149fd538beab}} 
\index{vt::messaging::CollectionChainSet$<$ Index $>$@{vt::messaging::CollectionChainSet$<$ Index $>$}!chains\_@{chains\_}}
\index{chains\_@{chains\_}!vt::messaging::CollectionChainSet$<$ Index $>$@{vt::messaging::CollectionChainSet$<$ Index $>$}}
\doxysubsubsection{\texorpdfstring{chains\_}{chains\_}}
{\footnotesize\ttfamily template$<$typename Index$>$ \\
std\+::unordered\+\_\+map$<$Index, \mbox{\hyperlink{classvt_1_1messaging_1_1_dependent_send_chain}{Dependent\+Send\+Chain}}$>$ \mbox{\hyperlink{classvt_1_1messaging_1_1_collection_chain_set}{vt\+::messaging\+::\+Collection\+Chain\+Set}}$<$ Index $>$\+::chains\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Set of {\ttfamily \mbox{\hyperlink{classvt_1_1messaging_1_1_dependent_send_chain}{Dependent\+Send\+Chain}}} managed on this node for indices. 

\mbox{\Hypertarget{classvt_1_1messaging_1_1_collection_chain_set_a0c471bdf6ef26c2ca5c214bdda8eb866}\label{classvt_1_1messaging_1_1_collection_chain_set_a0c471bdf6ef26c2ca5c214bdda8eb866}} 
\index{vt::messaging::CollectionChainSet$<$ Index $>$@{vt::messaging::CollectionChainSet$<$ Index $>$}!deallocator\_@{deallocator\_}}
\index{deallocator\_@{deallocator\_}!vt::messaging::CollectionChainSet$<$ Index $>$@{vt::messaging::CollectionChainSet$<$ Index $>$}}
\doxysubsubsection{\texorpdfstring{deallocator\_}{deallocator\_}}
{\footnotesize\ttfamily template$<$typename Index$>$ \\
std\+::function$<$void()$>$ \mbox{\hyperlink{classvt_1_1messaging_1_1_collection_chain_set}{vt\+::messaging\+::\+Collection\+Chain\+Set}}$<$ Index $>$\+::deallocator\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Deallocator that type erases element listener de-\/registration. 



The documentation for this struct was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
src/vt/messaging/\mbox{\hyperlink{collection__chain__set_8h}{collection\+\_\+chain\+\_\+set.\+h}}\item 
src/vt/messaging/\mbox{\hyperlink{collection__chain__set_8impl_8h}{collection\+\_\+chain\+\_\+set.\+impl.\+h}}\end{DoxyCompactItemize}
