\hypertarget{namespacevt_1_1vrt_1_1collection_1_1balance_1_1replay}{}\section{vt\+:\+:vrt\+:\+:collection\+:\+:balance\+:\+:replay Namespace Reference}
\label{namespacevt_1_1vrt_1_1collection_1_1balance_1_1replay}\index{vt\+::vrt\+::collection\+::balance\+::replay@{vt\+::vrt\+::collection\+::balance\+::replay}}
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structvt_1_1vrt_1_1collection_1_1balance_1_1replay_1_1_workload_data_migrator}{Workload\+Data\+Migrator}
\begin{DoxyCompactList}\small\item\em A helper objgroup for workload replay. Derives from {\ttfamily vt\+::\+Vrt\+::collection\+::lb\+::\+Base\+LB} in order to gain access to normalize\+Reassignments but is not a load balancer in the traditional sense. A new instance should be created for each call to normalize\+Reassignments. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{namespacevt_1_1vrt_1_1collection_1_1balance_1_1replay_a4923aa281087b1b8c161372c1742be4e}{replay\+Workloads} (\hyperlink{namespacevt_a46ce6733d5cdbd735d561b7b4029f6d7}{Phase\+Type} initial\+\_\+phase, \hyperlink{namespacevt_a46ce6733d5cdbd735d561b7b4029f6d7}{Phase\+Type} phases\+\_\+to\+\_\+run, \hyperlink{namespacevt_a46ce6733d5cdbd735d561b7b4029f6d7}{Phase\+Type} phase\+\_\+mod)
\begin{DoxyCompactList}\small\item\em Simulate replaying the object workloads as recorded in the json file, but allow new load balancing decisions to be made. \end{DoxyCompactList}\item 
void \hyperlink{namespacevt_1_1vrt_1_1collection_1_1balance_1_1replay_ae14719e5612680a87f68f2d9057cb67f}{replay\+Workloads} (\hyperlink{namespacevt_a46ce6733d5cdbd735d561b7b4029f6d7}{Phase\+Type} initial\+\_\+phase, \hyperlink{namespacevt_a46ce6733d5cdbd735d561b7b4029f6d7}{Phase\+Type} phases\+\_\+to\+\_\+run, \hyperlink{namespacevt_a46ce6733d5cdbd735d561b7b4029f6d7}{Phase\+Type} phase\+\_\+mod, std\+::shared\+\_\+ptr$<$ \hyperlink{structvt_1_1vrt_1_1collection_1_1balance_1_1_l_b_data_holder}{L\+B\+Data\+Holder} $>$ workloads, \hyperlink{namespacevt_a57b238783d05de96bc2c4027f7073b7f}{Callback}$<$ std\+::vector$<$ \hyperlink{structvt_1_1vrt_1_1collection_1_1balance_1_1_load_data}{balance\+::\+Load\+Data} $>$$>$ stats\+\_\+cb)
\begin{DoxyCompactList}\small\item\em Simulate replaying the object workloads passed in, but allow new load balancing decisions to be made. \end{DoxyCompactList}\item 
std\+::shared\+\_\+ptr$<$ \hyperlink{structvt_1_1vrt_1_1collection_1_1balance_1_1_l_b_data_holder}{L\+B\+Data\+Holder} $>$ \hyperlink{namespacevt_1_1vrt_1_1collection_1_1balance_1_1replay_a2177c340e50c514aa567bde597a58139}{read\+In\+Workloads} (const std\+::string \&filename)
\begin{DoxyCompactList}\small\item\em Build a \hyperlink{structvt_1_1vrt_1_1collection_1_1balance_1_1_l_b_data_holder}{L\+B\+Data\+Holder} object from the LB data in a json file. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Function Documentation}
\mbox{\Hypertarget{namespacevt_1_1vrt_1_1collection_1_1balance_1_1replay_a2177c340e50c514aa567bde597a58139}\label{namespacevt_1_1vrt_1_1collection_1_1balance_1_1replay_a2177c340e50c514aa567bde597a58139}} 
\index{vt\+::vrt\+::collection\+::balance\+::replay@{vt\+::vrt\+::collection\+::balance\+::replay}!read\+In\+Workloads@{read\+In\+Workloads}}
\index{read\+In\+Workloads@{read\+In\+Workloads}!vt\+::vrt\+::collection\+::balance\+::replay@{vt\+::vrt\+::collection\+::balance\+::replay}}
\subsubsection{\texorpdfstring{read\+In\+Workloads()}{readInWorkloads()}}
{\footnotesize\ttfamily std\+::shared\+\_\+ptr$<$ \hyperlink{structvt_1_1vrt_1_1collection_1_1balance_1_1_l_b_data_holder}{L\+B\+Data\+Holder} $>$ vt\+::vrt\+::collection\+::balance\+::replay\+::read\+In\+Workloads (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{filename }\end{DoxyParamCaption})}



Build a \hyperlink{structvt_1_1vrt_1_1collection_1_1balance_1_1_l_b_data_holder}{L\+B\+Data\+Holder} object from the LB data in a json file. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em filename} & read in LB data from the specified json file\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the \hyperlink{structvt_1_1vrt_1_1collection_1_1balance_1_1_l_b_data_holder}{L\+B\+Data\+Holder} object built from the LB data 
\end{DoxyReturn}
\mbox{\Hypertarget{namespacevt_1_1vrt_1_1collection_1_1balance_1_1replay_a4923aa281087b1b8c161372c1742be4e}\label{namespacevt_1_1vrt_1_1collection_1_1balance_1_1replay_a4923aa281087b1b8c161372c1742be4e}} 
\index{vt\+::vrt\+::collection\+::balance\+::replay@{vt\+::vrt\+::collection\+::balance\+::replay}!replay\+Workloads@{replay\+Workloads}}
\index{replay\+Workloads@{replay\+Workloads}!vt\+::vrt\+::collection\+::balance\+::replay@{vt\+::vrt\+::collection\+::balance\+::replay}}
\subsubsection{\texorpdfstring{replay\+Workloads()}{replayWorkloads()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily void vt\+::vrt\+::collection\+::balance\+::replay\+::replay\+Workloads (\begin{DoxyParamCaption}\item[{\hyperlink{namespacevt_a46ce6733d5cdbd735d561b7b4029f6d7}{Phase\+Type}}]{initial\+\_\+phase,  }\item[{\hyperlink{namespacevt_a46ce6733d5cdbd735d561b7b4029f6d7}{Phase\+Type}}]{phases\+\_\+to\+\_\+run,  }\item[{\hyperlink{namespacevt_a46ce6733d5cdbd735d561b7b4029f6d7}{Phase\+Type}}]{phase\+\_\+mod }\end{DoxyParamCaption})}



Simulate replaying the object workloads as recorded in the json file, but allow new load balancing decisions to be made. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em initial\+\_\+phase} & the first phase to replay \\
\hline
\mbox{\tt in}  & {\em phases\+\_\+to\+\_\+run} & how many phases to replay\\
\hline
\end{DoxyParams}
The json files specified by the command-\/line arguments --vt\+\_\+lb\+\_\+data\+\_\+file\+\_\+in and --vt\+\_\+lb\+\_\+data\+\_\+dir\+\_\+in will be imported and the LB data contained within will be fed through the load balancer(s) specified on the vt command-\/line on each requested phase, allowing new load balancing decisions to happen. There is no requirement to colocate the LB data on the same rank as the object exists during any given phase. \mbox{\Hypertarget{namespacevt_1_1vrt_1_1collection_1_1balance_1_1replay_ae14719e5612680a87f68f2d9057cb67f}\label{namespacevt_1_1vrt_1_1collection_1_1balance_1_1replay_ae14719e5612680a87f68f2d9057cb67f}} 
\index{vt\+::vrt\+::collection\+::balance\+::replay@{vt\+::vrt\+::collection\+::balance\+::replay}!replay\+Workloads@{replay\+Workloads}}
\index{replay\+Workloads@{replay\+Workloads}!vt\+::vrt\+::collection\+::balance\+::replay@{vt\+::vrt\+::collection\+::balance\+::replay}}
\subsubsection{\texorpdfstring{replay\+Workloads()}{replayWorkloads()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily void vt\+::vrt\+::collection\+::balance\+::replay\+::replay\+Workloads (\begin{DoxyParamCaption}\item[{\hyperlink{namespacevt_a46ce6733d5cdbd735d561b7b4029f6d7}{Phase\+Type}}]{initial\+\_\+phase,  }\item[{\hyperlink{namespacevt_a46ce6733d5cdbd735d561b7b4029f6d7}{Phase\+Type}}]{phases\+\_\+to\+\_\+run,  }\item[{\hyperlink{namespacevt_a46ce6733d5cdbd735d561b7b4029f6d7}{Phase\+Type}}]{phase\+\_\+mod,  }\item[{std\+::shared\+\_\+ptr$<$ \hyperlink{structvt_1_1vrt_1_1collection_1_1balance_1_1_l_b_data_holder}{L\+B\+Data\+Holder} $>$}]{workloads,  }\item[{\hyperlink{namespacevt_a57b238783d05de96bc2c4027f7073b7f}{Callback}$<$ std\+::vector$<$ \hyperlink{structvt_1_1vrt_1_1collection_1_1balance_1_1_load_data}{balance\+::\+Load\+Data} $>$$>$}]{stats\+\_\+cb }\end{DoxyParamCaption})}



Simulate replaying the object workloads passed in, but allow new load balancing decisions to be made. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em initial\+\_\+phase} & the first phase to replay \\
\hline
\mbox{\tt in}  & {\em phases\+\_\+to\+\_\+run} & how many phases to replay \\
\hline
\mbox{\tt in}  & {\em workloads} & the workload data to simulate \\
\hline
\mbox{\tt in}  & {\em stats\+\_\+cb} & callback for post-\/lb statistics\\
\hline
\end{DoxyParams}
LB data passed in will be fed through the load balancer(s) specified on the vt command-\/line on each requested phase, allowing new load balancing decisions to happen. There is no requirement to colocate the LB data on the same rank as the object exists during any given phase. 