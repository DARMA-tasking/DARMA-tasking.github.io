\hypertarget{derived_8h}{}\section{lib/checkpoint/src/checkpoint/dispatch/vrt/derived.h File Reference}
\label{derived_8h}\index{lib/checkpoint/src/checkpoint/dispatch/vrt/derived.\+h@{lib/checkpoint/src/checkpoint/dispatch/vrt/derived.\+h}}
{\ttfamily \#include \char`\"{}checkpoint/dispatch/vrt/registry\+\_\+common.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}checkpoint/dispatch/vrt/object\+\_\+registry.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}checkpoint/dispatch/vrt/serializer\+\_\+registry.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}checkpoint/dispatch/vrt/inheritance\+\_\+assert\+\_\+helpers.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}checkpoint/dispatch/vrt/serialize\+\_\+instantiator.\+h\char`\"{}}\newline
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structcheckpoint_1_1dispatch_1_1vrt_1_1_serializable_derived}{checkpoint\+::dispatch\+::vrt\+::\+Serializable\+Derived$<$ Derived\+T, Base\+T $>$}
\begin{DoxyCompactList}\small\item\em A derived class of an inheritance hierarchy should inherit from this. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Namespaces}
\begin{DoxyCompactItemize}
\item 
 \hyperlink{namespacecheckpoint}{checkpoint}
\item 
 \hyperlink{namespacecheckpoint_1_1dispatch}{checkpoint\+::dispatch}
\item 
 \hyperlink{namespacecheckpoint_1_1dispatch_1_1vrt}{checkpoint\+::dispatch\+::vrt}
\end{DoxyCompactItemize}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{derived_8h_a92eec2085a3f46c2d012c85ac7c7025a}{checkpoint\+\_\+virtual\+\_\+serialize\+\_\+derived}(D\+E\+R\+I\+V\+ED,  B\+A\+SE)
\end{DoxyCompactItemize}
\subsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
{\footnotesize template$<$typename DerivedT , typename BaseT $>$ }\\using \hyperlink{namespacecheckpoint_a9c4afb2c8d1bc1f58b9e158d64331d65}{checkpoint\+::\+Serializable\+Derived} = dispatch\+::vrt\+::\+Serializable\+Derived$<$ DerivedT, BaseT $>$
\end{DoxyCompactItemize}


\subsection{Macro Definition Documentation}
\mbox{\Hypertarget{derived_8h_a92eec2085a3f46c2d012c85ac7c7025a}\label{derived_8h_a92eec2085a3f46c2d012c85ac7c7025a}} 
\index{derived.\+h@{derived.\+h}!checkpoint\+\_\+virtual\+\_\+serialize\+\_\+derived@{checkpoint\+\_\+virtual\+\_\+serialize\+\_\+derived}}
\index{checkpoint\+\_\+virtual\+\_\+serialize\+\_\+derived@{checkpoint\+\_\+virtual\+\_\+serialize\+\_\+derived}!derived.\+h@{derived.\+h}}
\subsubsection{\texorpdfstring{checkpoint\+\_\+virtual\+\_\+serialize\+\_\+derived}{checkpoint\_virtual\_serialize\_derived}}
{\footnotesize\ttfamily \#define checkpoint\+\_\+virtual\+\_\+serialize\+\_\+derived(\begin{DoxyParamCaption}\item[{}]{D\+E\+R\+I\+V\+ED,  }\item[{}]{B\+A\+SE }\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}
\textcolor{keywordtype}{void} \_checkpointDynamicSerialize(                                                  \(\backslash\)
    \textcolor{keywordtype}{void}* s,                                                                         \(\backslash\)
    ::\hyperlink{namespacecheckpoint_1_1dispatch_1_1vrt_acd3f9e6b091bcfbc23dc35ea8ef45d3b}{checkpoint::dispatch::vrt::TypeIdx} base\_ser\_idx,                   
                  \(\backslash\)
    ::\hyperlink{namespacecheckpoint_1_1dispatch_1_1vrt_acd3f9e6b091bcfbc23dc35ea8ef45d3b}{checkpoint::dispatch::vrt::TypeIdx} expected\_idx                    
                  \(\backslash\)
  )\textcolor{keyword}{ override }\{                                                                       \(\backslash\)
    \hyperlink{namespacecheckpoint_a09875c2d3c012be868f3fd88b3ed55be}{::checkpoint::instantiateObjSerializer}<                          
                      \(\backslash\)
      DERIVED,                                                                       \(\backslash\)
      checkpoint\_serializer\_variadic\_args()                                          \(\backslash\)
    >();                                                                             \(\backslash\)
    debug\_checkpoint(                                                                \(\backslash\)
      \textcolor{stringliteral}{"%s: BEGIN: \_checkpointDynamicSerialize: serializer\_idx=%d \{\(\backslash\)n"},               \(\backslash\)
      \textcolor{keyword}{typeid}(DERIVED).name(), base\_ser\_idx                                           \(\backslash\)
    );                                                                               \(\backslash\)
    ::checkpoint::dispatch::vrt::assertTypeIdxMatch<DERIVED>(expected\_idx);          \(\backslash\)
    auto base\_idx = ::checkpoint::dispatch::vrt::objregistry::makeObjIdx<BASE>();    \(\backslash\)
    BASE::\_checkpointDynamicSerialize(s, base\_ser\_idx, base\_idx);                    \(\backslash\)
    auto dispatcher =                                                                \(\backslash\)
      ::checkpoint::dispatch::vrt::serializer\_registry::getBaseIdx<DERIVED>(         \(\backslash\)
        base\_ser\_idx                                                                 \(\backslash\)
      );                                                                             \(\backslash\)
    dispatcher(s, *static\_cast<DERIVED*>(\textcolor{keyword}{this}));                                     \(\backslash\)
    debug\_checkpoint(                                                                \(\backslash\)
      \textcolor{stringliteral}{"%s: END: \_checkpointDynamicSerialize: serializer\_idx=%d \}\(\backslash\)n"},                 \(\backslash\)
      \textcolor{keyword}{typeid}(DERIVED).name(), base\_ser\_idx                                           \(\backslash\)
    );                                                                               \(\backslash\)
  \}                                                                                  \(\backslash\)
  \hyperlink{namespacecheckpoint_1_1dispatch_1_1vrt_acd3f9e6b091bcfbc23dc35ea8ef45d3b}{::checkpoint::dispatch::vrt::TypeIdx} \_checkpointDynamicTypeIndex()\textcolor{keyword}{
       override }\{      \(\backslash\)
    return ::checkpoint::dispatch::vrt::objregistry::makeObjIdx<DERIVED>();          \(\backslash\)
  \}                                                                                  \(\backslash\)
\end{DoxyCode}
