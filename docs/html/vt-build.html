<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Learn &raquo; How to Build | vt (Virtual Transport)</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,400i,600,600i%7CSource+Code+Pro:400,400i,600" />
  <link rel="stylesheet" href="m-dark+documentation.compiled.css" />
  <link rel="icon" href="favicon-dark.png" type="image/png" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="theme-color" content="#22272e" />
</head>
<body>
<header><nav id="navigation">
  <div class="m-container">
    <div class="m-row">
      <a href="index.html" id="m-navbar-brand" class="m-col-t-8 m-col-m-none m-left-m">vt <span class="m-thin">(Virtual Transport)</span></a>
      <div class="m-col-t-4 m-hide-m m-text-right m-nopadr">
        <a href="#search" class="m-doc-search-icon" title="Search" onclick="return showSearch()"><svg style="height: 0.9rem;" viewBox="0 0 16 16">
          <path id="m-doc-search-icon-path" d="m6 0c-3.31 0-6 2.69-6 6 0 3.31 2.69 6 6 6 1.49 0 2.85-0.541 3.89-1.44-0.0164 0.338 0.147 0.759 0.5 1.15l3.22 3.79c0.552 0.614 1.45 0.665 2 0.115 0.55-0.55 0.499-1.45-0.115-2l-3.79-3.22c-0.392-0.353-0.812-0.515-1.15-0.5 0.895-1.05 1.44-2.41 1.44-3.89 0-3.31-2.69-6-6-6zm0 1.56a4.44 4.44 0 0 1 4.44 4.44 4.44 4.44 0 0 1-4.44 4.44 4.44 4.44 0 0 1-4.44-4.44 4.44 4.44 0 0 1 4.44-4.44z"/>
        </svg></a>
        <a id="m-navbar-show" href="#navigation" title="Show navigation"></a>
        <a id="m-navbar-hide" href="#" title="Hide navigation"></a>
      </div>
      <div id="m-navbar-collapse" class="m-col-t-12 m-show-m m-col-m-none m-right-m">
        <div class="m-row">
          <ol class="m-col-t-6 m-col-m-none">
            <li>
              <a href="introduction.html">Introduction</a>
              <ol>
                <li><a href="context.html">Context</a></li>
                <li><a href="active-messenger.html">Active Messenger</a></li>
                <li><a href="collection.html">Virtual Context Collection</a></li>
                <li><a href="collective.html">Collectives</a></li>
                <li><a href="group.html">Group Manager</a></li>
                <li><a href="location.html">Location Manager</a></li>
                <li><a href="objgroup.html">Object Group Manager</a></li>
                <li><a href="pipe.html">Pipe Manager</a></li>
                <li><a href="pool.html">Memory Pool</a></li>
                <li><a href="rdmahandle.html">RDMA Handle Manager</a></li>
                <li><a href="registry.html">Registry</a></li>
                <li><a href="scheduler.html">Scheduler</a></li>
                <li><a href="term.html">Termination Detector</a></li>
                <li><a href="trace.html">Tracing</a></li>
                <li><a href="trace-only.html">Trace-only</a></li>
              </ol>
            </li>
            <li>
              <a href="learn.html">Learn</a>
              <ol>
                <li><a href="vt-build.html" id="m-navbar-current">How to Build</a></li>
                <li><a href="tutorial.html">Tutorial</a></li>
                <li><a href="examples.html">Examples</a></li>
                <li><a href="ckpt_learn_serialize.html">How to Serialize Data</a></li>
              </ol>
            </li>
            <li><a href="pages.html">Pages</a></li>
            <li>
              <a href="namespaces.html">Namespaces</a>
              <ol>
                <li><a href="namespacevt.html">vt</a></li>
                <li><a href="namespacevt_1_1collective.html">vt::collective</a></li>
                <li><a href="namespacevt_1_1debug.html">vt::debug</a></li>
                <li><a href="namespacevt_1_1group.html">vt::group</a></li>
                <li><a href="namespacevt_1_1location.html">vt::location</a></li>
                <li><a href="namespacevt_1_1messaging.html">vt::messaging</a></li>
                <li><a href="namespacevt_1_1objgroup.html">vt::objgroup</a></li>
                <li><a href="namespacevt_1_1pipe.html">vt::pipe</a></li>
                <li><a href="namespacevt_1_1rdma.html">vt::rdma</a></li>
                <li><a href="namespacevt_1_1runtime.html">vt::runtime</a></li>
                <li><a href="namespacevt_1_1term.html">vt::term</a></li>
                <li><a href="namespacevt_1_1vrt.html">vt::vrt</a></li>
              </ol>
            </li>
          </ol>
          <ol class="m-col-t-6 m-col-m-none" start="5">
            <li><a href="annotated.html">Classes</a></li>
            <li><a href="files.html">Files</a></li>
            <li>
              <a href="https://github.com/DARMA-tasking/vt">GitHub</a>
              <ol>
                <li><a href="https://github.com/DARMA-tasking/checkpoint">Checkpoint</a></li>
                <li><a href="https://github.com/DARMA-tasking/detector">Detector</a></li>
                <li><a href="https://github.com/DARMA-tasking/LB-analysis-framework">LBAF</a></li>
                <li><a href="https://github.com/DARMA-tasking/checkpoint-member-analyzer">Checkpoint Analyzer</a></li>
                <li><a href="https://github.com/DARMA-tasking/DARMA-tasking.github.io">Documentation</a></li>
              </ol>
            </li>
            <li class="m-show-m"><a href="#search" class="m-doc-search-icon" title="Search" onclick="return showSearch()"><svg style="height: 0.9rem;" viewBox="0 0 16 16">
              <use href="#m-doc-search-icon-path" />
            </svg></a></li>
          </ol>
        </div>
      </div>
    </div>
  </div>
</nav></header>
<main><article>
  <div class="m-container m-container-inflatable">
    <div class="m-row">
      <div class="m-col-l-10 m-push-l-1">
        <h1>
          <span class="m-breadcrumb"><a href="learn.html">Learn</a> &raquo;</span>
          How to Build
        </h1>
<p>Building DARMA/vt with cmake</p><p><strong><em>vt</em></strong> can be built with <code>cmake</code> or built inside a <code>docker</code> container. Most of the external dependencies come bundled with <strong><em>vt</em></strong> for ease of compiling.</p><section id="how-to-build"><h2><a href="#how-to-build">Building</a></h2><p>To build <strong><em>vt</em></strong>, one must obtain the following dependencies:</p><section id="required-deps"><h3><a href="#required-deps">Required</a></h3><ul><li>detector, (<em>vt</em> ecosystem)</li><li>checkpoint, (<em>vt</em> ecosystem)</li><li>MPI (mpich/openmpi/mvapich/IBM Spectrum MPI/Cray MPICH/etc.)</li></ul></section><section id="optional-deps"><h3><a href="#optional-deps">Optional (if threading enabled)</a></h3><ul><li>OpenMP <em>or</em></li><li>Default to <code>std::thread</code></li></ul></section><section id="automatic-build-deps"><h3><a href="#automatic-build-deps">Automatically build dependencies</a></h3><p>Assuming MPI is installed and accessible via CC/CXX, the only other dependencies that are required are checkpoint and detector. The easiest way to get these built are to clone them inside <code>vt/lib</code>:</p><pre class="m-code"><span class="err">$</span> <span class="n">git</span> <span class="n">clone</span> <span class="n">git</span><span class="err">@</span><span class="n">github</span><span class="p">.</span><span class="nl">com</span><span class="p">:</span><span class="n">DARMA</span><span class="o">-</span><span class="n">tasking</span><span class="o">/</span><span class="n">vt</span>
<span class="err">$</span> <span class="n">cd</span> <span class="n">vt</span><span class="o">/</span><span class="n">lib</span>
<span class="err">$</span> <span class="n">git</span> <span class="n">clone</span> <span class="n">git</span><span class="err">@</span><span class="n">github</span><span class="p">.</span><span class="nl">com</span><span class="p">:</span><span class="n">DARMA</span><span class="o">-</span><span class="n">tasking</span><span class="o">/</span><span class="n">checkpoint</span>
<span class="err">$</span> <span class="n">git</span> <span class="n">clone</span> <span class="n">git</span><span class="err">@</span><span class="n">github</span><span class="p">.</span><span class="nl">com</span><span class="p">:</span><span class="n">DARMA</span><span class="o">-</span><span class="n">tasking</span><span class="o">/</span><span class="n">detector</span></pre><p>With these in <code>vt/lib</code>, cmake will automatically build them and stitch them into <em>vt</em>&#x27;s linking process.</p></section><section id="use-cmake-directly-vars"><h3><a href="#use-cmake-directly-vars">Using cmake directly</a></h3><p>One may use <code>cmake</code> as normal on <em>vt</em>, with checkpoint and detector cloned in <code>vt/lib</code> to compile them all together as explained above. The following are some custom configuration build options that can be provided to <code>cmake</code> to change the build configuration:</p><table class="m-table"><thead><tr><th>CMake Variable</th><th>Default Value</th><th>Description</th></tr></thead><tbody><tr><td><code>vt_lb_enabled</code></td><td>1</td><td>Compile with support for runtime load balancing</td></tr><tr><td><code>vt_trace_enabled</code></td><td>0</td><td>Compile with support for runtime tracing (Projections-format)</td></tr><tr><td><code>vt_trace_only</code></td><td>0</td><td>Compile vt in trace-only mode (stripped down version for tracing MPI calls)</td></tr><tr><td><code>vt_test_trace_runtime_enabled</code></td><td>0</td><td>Force tracing on at runtime for VT tests</td></tr><tr><td><code>vt_doxygen_enabled</code></td><td>0</td><td>Enable doxygen generation</td></tr><tr><td><code>vt_mimalloc_enabled</code></td><td>0</td><td>Enable <code>mimalloc</code>, alternative allocator for debugging memory usage/frees/corruption</td></tr><tr><td><code>vt_asan_enabled</code></td><td>0</td><td>Enable building with address sanitizer</td></tr><tr><td><code>vt_ubsan_enabled</code></td><td>0</td><td>Enable building with undefined behavior sanitizer</td></tr><tr><td><code>vt_werror_enabled</code></td><td>0</td><td>Treat all warnings as errors</td></tr><tr><td><code>vt_pool_enabled</code></td><td>1</td><td>Use memory pool in <em>vt</em> for message allocation</td></tr><tr><td><code>vt_zoltan_enabled</code></td><td>0</td><td>Build with Zoltan enabled for <code>ZoltanLB</code> support</td></tr><tr><td><code>vt_mpi_guards</code></td><td>0</td><td>Guards against mis-use of MPI calls in code using <em>vt</em></td></tr><tr><td><code>vt_priorities_enabled</code></td><td>1</td><td>Enable prioritization of work (adds bits in envelope)</td></tr><tr><td><code>vt_diagnostics_enabled</code></td><td>1</td><td>Enable VT component diagnostics for performance analysis</td></tr><tr><td><code>vt_diagnostics_runtime_enabled</code></td><td>0</td><td>Enable VT component diagnostics at runtime by default</td></tr><tr><td><code>vt_priority_bits_per_level</code></td><td>3</td><td>Number of bits per level of priority in envelope</td></tr><tr><td><code>vt_build_extended_tests</code></td><td>1</td><td>Build with full, extended testing</td></tr><tr><td><code>vt_production_build_enabled</code></td><td>0</td><td>Disable assertions and debug prints at compile time</td></tr><tr><td><code>vt_unity_build_enabled</code></td><td>0</td><td>Build with Unity/Jumbo mode enabled (requires CMake &gt;= 3.16)</td></tr><tr><td><code>vt_fcontext_enabled</code></td><td>0</td><td>Force use of fcontext for threading</td></tr><tr><td><code>vt_tests_num_nodes</code></td><td>-</td><td>Maximum number of nodes used for tests. If empty, then the default value detected by CMake is used</td></tr><tr><td><code>CODE_COVERAGE</code></td><td>0</td><td>Enable code coverage for VT examples/tests</td></tr><tr><td><code>USE_OPENMP</code></td><td>0</td><td>Force use of OpenMP for threading</td></tr><tr><td><code>USE_STD_THREAD</code></td><td>0</td><td>Force use of std::thread for threading</td></tr><tr><td><code>VT_BUILD_TESTS</code></td><td>1</td><td>Build all VT tests</td></tr><tr><td><code>VT_BUILD_EXAMPLES</code></td><td>1</td><td>Build all VT examples</td></tr><tr><td><code>vt_debug_verbose</code></td><td>1 (not Release)</td><td>Enable VT verbose debug prints at compile-time</td></tr><tr><td><code>vt_no_color_enabled</code></td><td>0</td><td>Set <code>--vt_no_color</code> flag to true by default</td></tr><tr><td><code>BUILD_SHARED_LIBS</code></td><td>0</td><td>Build VT as shared library</td></tr></tbody></table></section><section id="using-the-build-script"><h3><a href="#using-the-build-script">Using the Build Script</a></h3><p>Instead of running <code>cmake</code>, one may invoke the <code>vt/ci/build_cpp.sh</code> script which will run <code>cmake</code> for <em>vt</em> with environment variables for most configuration parameters.</p><section id="building-environment-variables"><h4><a href="#building-environment-variables">Build Script Environment Variables</a></h4><table class="m-table"><thead><tr><th>Variable</th><th>Default Value</th><th>Description</th></tr></thead><tbody><tr><td><code>CMAKE_BUILD_TYPE</code></td><td>Release</td><td>The <code>cmake</code> build type</td></tr><tr><td><code>VT_LB_ENABLED</code></td><td>1</td><td>Compile with support for runtime load balancing</td></tr><tr><td><code>VT_TRACE_ENABLED</code></td><td>0</td><td>Compile with support for runtime tracing (Projections-format)</td></tr><tr><td><code>VT_TRACE_ONLY</code></td><td>0</td><td>Compile vt in trace-only mode (stripped down version for tracing MPI calls)</td></tr><tr><td><code>VT_TRACE_RUNTIME_ENABLED</code></td><td>0</td><td>Force tracing on at runtime (used in CI for automatically testing tracing on all tests/examples)</td></tr><tr><td><code>VT_DOXYGEN_ENABLED</code></td><td>0</td><td>Enable doxygen generation</td></tr><tr><td><code>VT_MIMALLOC_ENABLED</code></td><td>0</td><td>Enable <code>mimalloc</code>, alternative allocator for debugging memory usage/frees/corruption</td></tr><tr><td><code>VT_ASAN_ENABLED</code></td><td>0</td><td>Enable building with address sanitizer</td></tr><tr><td><code>VT_UBSAN_ENABLED</code></td><td>0</td><td>Enable building with undefined behavior sanitizer</td></tr><tr><td><code>VT_WERROR_ENABLED</code></td><td>0</td><td>Treat all warnings as errors</td></tr><tr><td><code>VT_POOL_ENABLED</code></td><td>1</td><td>Use memory pool in <em>vt</em> for message allocation</td></tr><tr><td><code>VT_FCONTEXT_ENABLED</code></td><td>0</td><td>Force use of fcontext for threading</td></tr><tr><td><code>VT_USE_OPENMP</code></td><td>0</td><td>Force use of OpenMP for threading</td></tr><tr><td><code>VT_USE_STD_THREAD</code></td><td>0</td><td>Force use of std::thread for threading</td></tr><tr><td><code>VT_ZOLTAN_ENABLED</code></td><td>0</td><td>Build with Zoltan enabled for <code>ZoltanLB</code> support</td></tr><tr><td><code>ZOLTAN_DIR</code></td><td>&lt;empty&gt;</td><td>Directory pointing to Zoltan installation</td></tr><tr><td><code>VT_MPI_GUARD_ENABLED</code></td><td>0</td><td>Guards against mis-use of MPI calls in code using <em>vt</em></td></tr><tr><td><code>VT_EXTENDED_TESTS_ENABLED</code></td><td>1</td><td>Build with full, extended testing</td></tr><tr><td><code>VT_UNITY_BUILD_ENABLED</code></td><td>0</td><td>Build with Unity/Jumbo mode enabled (requires CMake &gt;= 3.16)</td></tr><tr><td><code>VT_PRODUCTION_BUILD_ENABLED</code></td><td>0</td><td>Disable assertions and debug prints at compile time</td></tr><tr><td><code>VT_DIAGNOSTICS_ENABLED</code></td><td>1</td><td>Enable VT component diagnostics for performance analysis</td></tr><tr><td><code>VT_DIAGNOSTICS_RUNTIME_ENABLED</code></td><td>0</td><td>Enable VT component diagnostics at runtime by default</td></tr><tr><td><code>VT_DEBUG_VERBOSE</code></td><td>&lt;empty&gt;</td><td>Enable VT verbose debug prints at compile-time</td></tr><tr><td><code>VT_TESTS_NUM_NODES</code></td><td>&lt;empty&gt;</td><td>Maximum number of nodes used for tests. If empty, then the default value detected by CMake is used</td></tr><tr><td><code>VT_NO_COLOR_ENABLED</code></td><td>0</td><td>Set <code>--vt_no_color</code> flag to true by default</td></tr><tr><td><code>BUILD_SHARED_LIBS</code></td><td>0</td><td>Build VT as shared library</td></tr></tbody></table><p>With these set, invoke the script with two arguments: the path to the <em>vt</em> root directory and the build path. Here&#x27;s an example assuming that <em>vt</em> is cloned into <code>/usr/src/vt</code> with trace enabled in debug mode.</p><p><strong>Usage for building:</strong></p><pre class="m-code"><span class="err">$</span> <span class="n">vt</span><span class="o">/</span><span class="n">ci</span><span class="o">/</span><span class="n">build_cpp</span><span class="p">.</span><span class="n">sh</span> <span class="o">&lt;</span><span class="n">full</span><span class="o">-</span><span class="n">path</span><span class="o">-</span><span class="n">to</span><span class="o">-</span><span class="n">vt</span><span class="o">-</span><span class="n">source</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">full</span><span class="o">-</span><span class="n">path</span><span class="o">-</span><span class="n">to</span><span class="o">-</span><span class="n">build</span><span class="o">-</span><span class="n">dir</span><span class="o">&gt;</span></pre><p><strong>Example:</strong></p><pre class="m-code"><span class="err">$</span> <span class="n">cd</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">src</span>
<span class="err">$</span> <span class="n">git</span> <span class="n">clone</span> <span class="n">git</span><span class="err">@</span><span class="n">github</span><span class="p">.</span><span class="nl">com</span><span class="p">:</span><span class="n">DARMA</span><span class="o">-</span><span class="n">tasking</span><span class="o">/</span><span class="n">vt</span>
<span class="err">$</span> <span class="n">VT_TRACE_ENABLED</span><span class="o">=</span><span class="mi">1</span> <span class="n">CMAKE_BUILD_TYPE</span><span class="o">=</span><span class="n">Debug</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">vt</span><span class="o">/</span><span class="n">ci</span><span class="o">/</span><span class="n">build_cpp</span><span class="p">.</span><span class="n">sh</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">vt</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">vt</span></pre></section></section><section id="docker-build"><h3><a href="#docker-build">Building with `docker` containerization</a></h3><p>The easiest way to build <em>vt</em> is by using <code>docker</code> with the available containers that contain the proper compilers, MPI, and all other dependencies. First, install <code>docker</code> on the system. On some systems, <code>docker-compose</code> might also need to be installed.</p><p>The <code>docker</code> builds are configured through <code>docker-compose</code> to use a shared, cached filesystem mount with the host for <code>ccache</code> to enable fast re-builds.</p><p>For <code>docker-compose</code>, the following variables can be set to configure the build. One may configure the architecture, compiler type (GNU, Clang, Intel, Nvidia) and compiler version, Linux distro (ubuntu or alpine), and distro version.</p><p>The default set of the docker configuration options is located in <code>vt/.env</code>, which <code>docker-compose</code> will read.</p><pre class="m-code"><span class="cp"># Variables:</span>
<span class="cp">#   ARCH={amd64, arm64v8, ...}</span>
<span class="cp">#   COMPILER_TYPE={gnu, clang, intel, nvidia}</span>
<span class="cp">#   COMPILER={gcc-7, gcc-8, gcc-9, gcc-10,</span>
<span class="cp">#             clang-4.0, clang-5.0, clang-6.0, clang-7, clang-8,</span>
<span class="cp">#             clang-9, clang-10,</span>
<span class="cp">#             icc-18, icc-19,</span>
<span class="cp">#             nvcc-10, nvcc-11}</span>
<span class="cp">#   REPO=lifflander1/vt</span>
<span class="cp">#   UBUNTU={18.04, 20.04}</span>
<span class="cp">#   ULIMIT_CORE=0</span>
<span class="cp">#</span>
<span class="cp"># DARMA/vt Configuration Variables:</span>
<span class="cp">#   VT_LB=1                   # Enable load balancing</span>
<span class="cp">#   VT_TRACE=0                # Enable tracing</span>
<span class="cp">#   VT_MIMALLOC=0             # Enable mimalloc memory allocator</span>
<span class="cp">#   VT_DOCS=0                 # Enable doxygen build</span>
<span class="cp">#   VT_TRACE_RT=0             # Enable tracing at runtime (for testing)</span>
<span class="cp">#   VT_ASAN=0                 # Enable address sanitizer</span>
<span class="cp">#   VT_UBSAN=0                # Enable undefined behavior sanitizer</span>
<span class="cp">#   VT_WERROR=1               # Treat all warnings as errors</span>
<span class="cp">#   VT_EXTENDED_TESTS=1       # Build all the extended testing</span>
<span class="cp">#   VT_ZOLTAN=0               # Build with Zoltan enabled</span>
<span class="cp">#   VT_UNITY_BUILD=0          # Build with Unity/Jumbo mode enabled</span>
<span class="cp">#   VT_FCONTEXT=0             # Force use of fcontext for threading</span>
<span class="cp">#   VT_USE_OPENMP=0           # Force use of OpenMP for threading</span>
<span class="cp">#   VT_USE_STD_THREAD=0       # Force use of std::thread for threading</span>
<span class="cp">#   VT_DIAGNOSTICS=1          # Build with diagnostics enabled</span>
<span class="cp">#   VT_DIAGNOSTICS_RUNTIME=0  # Enable diagnostics at runtime by default</span>
<span class="cp">#   BUILD_TYPE=release        # CMake build type</span>
<span class="cp">#   CODE_COVERAGE=0           # Enable generation of code coverage reports</span>
<span class="cp">#   VT_DEBUG_VERBOSE          # Enable verbose debug prints at compile-time</span>
<span class="cp">#   VT_NO_COLOR_ENABLED=0     # Set --vt_no_color flag to true by default</span>
<span class="cp">#   VT_BUILD_SHARED_LIBS=0    # Build VT as shared library</span></pre><p>With these set, one may run the following for a non-interactive build with ubuntu. Or, to speed up the build process, the base container can be pulled for many of the common configurations: <code>docker-compose pull ubuntu-cpp</code>.</p><pre class="m-code"><span class="err">$</span> <span class="n">cd</span> <span class="n">vt</span>
<span class="err">$</span> <span class="n">docker</span><span class="o">-</span><span class="n">compose</span> <span class="n">run</span> <span class="o">-</span><span class="n">e</span> <span class="n">BUILD_TYPE</span><span class="o">=</span><span class="n">debug</span> <span class="o">-</span><span class="n">e</span> <span class="n">VT_TRACE</span><span class="o">=</span><span class="mi">1</span> <span class="n">ubuntu</span><span class="o">-</span><span class="n">cpp</span></pre><p>Or, alternatively, run a non-interactive build with alpine:</p><pre class="m-code"><span class="err">$</span> <span class="n">cd</span> <span class="n">vt</span>
<span class="err">$</span> <span class="n">docker</span><span class="o">-</span><span class="n">compose</span> <span class="n">run</span> <span class="o">-</span><span class="n">e</span> <span class="n">BUILD_TYPE</span><span class="o">=</span><span class="n">debug</span> <span class="o">-</span><span class="n">e</span> <span class="n">VT_TRACE</span><span class="o">=</span><span class="mi">1</span> <span class="n">alpine</span><span class="o">-</span><span class="n">cpp</span></pre><p>For an interactive build with ubuntu, where one can build, debug, and run <code>valgrind</code>, etc:</p><pre class="m-code"><span class="err">$</span> <span class="n">cd</span> <span class="n">vt</span>
<span class="err">$</span> <span class="n">docker</span><span class="o">-</span><span class="n">compose</span> <span class="n">run</span> <span class="o">-</span><span class="n">e</span> <span class="n">BUILD_TYPE</span><span class="o">=</span><span class="n">debug</span> <span class="o">-</span><span class="n">e</span> <span class="n">VT_TRACE</span><span class="o">=</span><span class="mi">1</span> <span class="n">ubuntu</span><span class="o">-</span><span class="n">cpp</span><span class="o">-</span><span class="n">interactive</span>
<span class="cp"># /vt/ci/build_cpp.sh /vt /build</span>
<span class="cp"># /vt/ci/test_cpp.sh /vt /build</span>
<span class="cp"># /vt/ci/build_vt_sample.sh /vt /build</span></pre><p>The same call applies to alpine distro builds if you swap <code>ubuntu-cpp-interactive</code> for <code>alpine-cpp-interactive</code>.</p><p>For more detailed information on configuring the docker build, read the documentation in <code>vt/docker-compose.yml</code>.</p></section></section><section id="test-vt"><h2><a href="#test-vt">Testing</a></h2><p>After <em>vt</em> is built successfully, one may invoke the tests several ways. One may run <code>make test</code> or <code>ninja test</code> (depending on the generator used) or <code>ctest</code>, to run all the tests. Alternatively, the tests can be run automatically from the CI script:</p><pre class="m-code"><span class="err">$</span> <span class="n">vt</span><span class="o">/</span><span class="n">ci</span><span class="o">/</span><span class="n">test_cpp</span><span class="p">.</span><span class="n">sh</span> <span class="o">&lt;</span><span class="n">full</span><span class="o">-</span><span class="n">path</span><span class="o">-</span><span class="n">to</span><span class="o">-</span><span class="n">vt</span><span class="o">-</span><span class="n">source</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">full</span><span class="o">-</span><span class="n">path</span><span class="o">-</span><span class="n">to</span><span class="o">-</span><span class="n">build</span><span class="o">-</span><span class="n">dir</span><span class="o">&gt;</span></pre></section>
      </div>
    </div>
  </div>
</article></main>
<div class="m-doc-search" id="search">
  <a href="#!" onclick="return hideSearch()"></a>
  <div class="m-container">
    <div class="m-row">
      <div class="m-col-m-8 m-push-m-2">
        <div class="m-doc-search-header m-text m-small">
          <div><span class="m-label m-default">Tab</span> / <span class="m-label m-default">T</span> to search, <span class="m-label m-default">Esc</span> to close</div>
          <div id="search-symbolcount">&hellip;</div>
        </div>
        <div class="m-doc-search-content">
          <form>
            <input type="search" name="q" id="search-input" placeholder="Loading &hellip;" disabled="disabled" autofocus="autofocus" autocomplete="off" spellcheck="false" />
          </form>
          <noscript class="m-text m-danger m-text-center">Unlike everything else in the docs, the search functionality <em>requires</em> JavaScript.</noscript>
          <div id="search-help" class="m-text m-dim m-text-center">
            <p class="m-noindent">Search for symbols, directories, files, pages or
            modules. You can omit any prefix from the symbol or file path; adding a
            <code>:</code> or <code>/</code> suffix lists all members of given symbol or
            directory.</p>
            <p class="m-noindent">Use <span class="m-label m-dim">&darr;</span>
            / <span class="m-label m-dim">&uarr;</span> to navigate through the list,
            <span class="m-label m-dim">Enter</span> to go.
            <span class="m-label m-dim">Tab</span> autocompletes common prefix, you can
            copy a link to the result using <span class="m-label m-dim">⌘</span>
            <span class="m-label m-dim">L</span> while <span class="m-label m-dim">⌘</span>
            <span class="m-label m-dim">M</span> produces a Markdown link.</p>
          </div>
          <div id="search-notfound" class="m-text m-warning m-text-center">Sorry, nothing was found.</div>
          <ul id="search-results"></ul>
        </div>
      </div>
    </div>
  </div>
</div>
<script src="search-v2.js"></script>
<script src="searchdata-v2.js" async="async"></script>
<footer><nav>
  <div class="m-container">
    <div class="m-row">
      <div class="m-col-l-10 m-push-l-1">
        <p>vt (Virtual Transport). Created with <a href="https://doxygen.org/">Doxygen</a> 1.8.13 and <a href="https://mcss.mosra.cz/">m.css</a>.</p>
      </div>
    </div>
  </div>
</nav></footer>
</body>
</html>
