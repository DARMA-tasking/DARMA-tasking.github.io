<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>vt: src/vt/utils/adt/histogram_approx.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">vt
   &#160;<span id="projectnumber">1.6.0</span>
   </div>
   <div id="projectbrief">(Virtual Transport)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_f33cb4a933e6adec8c00101bf126765e.html">vt</a></li><li class="navelem"><a class="el" href="dir_9f471da389a01661f68daaf58e7a8834.html">utils</a></li><li class="navelem"><a class="el" href="dir_e889c5ec0b5e84fdd59911238670a7d2.html">adt</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">histogram_approx.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="histogram__approx_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//@HEADER</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// *****************************************************************************</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">//                              histogram_approx.h</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//                       DARMA/vt =&gt; Virtual Transport</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">// Copyright 2019-2024 National Technology &amp; Engineering Solutions of Sandia, LLC</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">// (NTESS). Under the terms of Contract DE-NA0003525 with NTESS, the U.S.</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">// Government retains certain rights in this software.</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">// Redistribution and use in source and binary forms, with or without</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">// modification, are permitted provided that the following conditions are met:</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">// * Redistributions of source code must retain the above copyright notice,</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment">//   this list of conditions and the following disclaimer.</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment">// * Redistributions in binary form must reproduce the above copyright notice,</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">//   this list of conditions and the following disclaimer in the documentation</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment">//   and/or other materials provided with the distribution.</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment">// * Neither the name of the copyright holder nor the names of its</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment">//   contributors may be used to endorse or promote products derived from this</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment">//   software without specific prior written permission.</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment">// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS IS&quot;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment">// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment">// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment">// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment">// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment">// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="comment">// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="comment">// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="comment">// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="comment">// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="comment">// POSSIBILITY OF SUCH DAMAGE.</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="comment">// Questions? Contact darma@sandia.gov</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="comment">// *****************************************************************************</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="comment">//@HEADER</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160; </div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#if !defined INCLUDED_VT_UTILS_ADT_HISTOGRAM_APPROX_H</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor">#define INCLUDED_VT_UTILS_ADT_HISTOGRAM_APPROX_H</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160; </div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="config_8h.html">vt/config.h</a>&quot;</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160; </div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="preprocessor">#include &lt;vector&gt;</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="preprocessor">#include &lt;tuple&gt;</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="preprocessor">#include &lt;limits&gt;</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="preprocessor">#include &lt;cmath&gt;</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="preprocessor">#include &lt;algorithm&gt;</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160; </div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="preprocessor">#include INCLUDE_FMT_CORE</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160; </div>
<div class="line"><a name="l00057"></a><span class="lineno"><a class="line" href="namespacevt_1_1util_1_1adt.html">   57</a></span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacevt.html">vt</a> { <span class="keyword">namespace </span>util { <span class="keyword">namespace </span>adt {</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160; </div>
<div class="line"><a name="l00059"></a><span class="lineno"><a class="line" href="namespacevt_1_1util_1_1adt_1_1detail.html">   59</a></span>&#160;<span class="keyword">namespace </span>detail {</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160; </div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, <span class="keyword">typename</span> CountT&gt;</div>
<div class="line"><a name="l00067"></a><span class="lineno"><a class="line" href="structvt_1_1util_1_1adt_1_1detail_1_1_centroid.html">   67</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structvt_1_1util_1_1adt_1_1detail_1_1_centroid.html">Centroid</a> {</div>
<div class="line"><a name="l00068"></a><span class="lineno"><a class="line" href="structvt_1_1util_1_1adt_1_1detail_1_1_centroid.html#ac3815361e4f13eeb8b2863d2eb8db1dd">   68</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="structvt_1_1util_1_1adt_1_1detail_1_1_centroid.html#ac3815361e4f13eeb8b2863d2eb8db1dd">CountType</a> = CountT;</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160; </div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;  <a class="code" href="structvt_1_1util_1_1adt_1_1detail_1_1_centroid.html#a566041829c6432cb574dec14a7686141">Centroid</a>() = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160; </div>
<div class="line"><a name="l00078"></a><span class="lineno"><a class="line" href="structvt_1_1util_1_1adt_1_1detail_1_1_centroid.html#a7950a3f8199b064108e117106014b645">   78</a></span>&#160;  <a class="code" href="structvt_1_1util_1_1adt_1_1detail_1_1_centroid.html#a7950a3f8199b064108e117106014b645">Centroid</a>(T in_value, <a class="code" href="structvt_1_1util_1_1adt_1_1detail_1_1_centroid.html#ac3815361e4f13eeb8b2863d2eb8db1dd">CountType</a> in_count)</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    : <a class="code" href="structvt_1_1util_1_1adt_1_1detail_1_1_centroid.html#a17b351e747aba8aa88699a4d9137a692">value_</a>(in_value),</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;      <a class="code" href="structvt_1_1util_1_1adt_1_1detail_1_1_centroid.html#ac9df992e5ea17280b5d49bd0defa8c28">count_</a>(in_count)</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;  { }</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160; </div>
<div class="line"><a name="l00088"></a><span class="lineno"><a class="line" href="structvt_1_1util_1_1adt_1_1detail_1_1_centroid.html#a16f468b91d64cd35579e5ca7785b7ff4">   88</a></span>&#160;  T <a class="code" href="structvt_1_1util_1_1adt_1_1detail_1_1_centroid.html#a16f468b91d64cd35579e5ca7785b7ff4">getValue</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="structvt_1_1util_1_1adt_1_1detail_1_1_centroid.html#a17b351e747aba8aa88699a4d9137a692">value_</a>; }</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160; </div>
<div class="line"><a name="l00095"></a><span class="lineno"><a class="line" href="structvt_1_1util_1_1adt_1_1detail_1_1_centroid.html#ac8a85e340729654a913668059d34a278">   95</a></span>&#160;  <a class="code" href="structvt_1_1util_1_1adt_1_1detail_1_1_centroid.html#ac3815361e4f13eeb8b2863d2eb8db1dd">CountType</a> <a class="code" href="structvt_1_1util_1_1adt_1_1detail_1_1_centroid.html#ac8a85e340729654a913668059d34a278">getCount</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="structvt_1_1util_1_1adt_1_1detail_1_1_centroid.html#ac9df992e5ea17280b5d49bd0defa8c28">count_</a>; }</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160; </div>
<div class="line"><a name="l00102"></a><span class="lineno"><a class="line" href="structvt_1_1util_1_1adt_1_1detail_1_1_centroid.html#a3d847e231f7e152242a78be89b41e55b">  102</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="structvt_1_1util_1_1adt_1_1detail_1_1_centroid.html#a3d847e231f7e152242a78be89b41e55b">setValue</a>(T in_value) { <a class="code" href="structvt_1_1util_1_1adt_1_1detail_1_1_centroid.html#a17b351e747aba8aa88699a4d9137a692">value_</a> = in_value; }</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160; </div>
<div class="line"><a name="l00109"></a><span class="lineno"><a class="line" href="structvt_1_1util_1_1adt_1_1detail_1_1_centroid.html#a7abe96415d943f38db8381a7be593fde">  109</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="structvt_1_1util_1_1adt_1_1detail_1_1_centroid.html#a7abe96415d943f38db8381a7be593fde">setCount</a>(<a class="code" href="structvt_1_1util_1_1adt_1_1detail_1_1_centroid.html#ac3815361e4f13eeb8b2863d2eb8db1dd">CountType</a> in_count) { <a class="code" href="structvt_1_1util_1_1adt_1_1detail_1_1_centroid.html#ac9df992e5ea17280b5d49bd0defa8c28">count_</a> = in_count; }</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160; </div>
<div class="line"><a name="l00116"></a><span class="lineno"><a class="line" href="structvt_1_1util_1_1adt_1_1detail_1_1_centroid.html#a781bd5bd78c178a2a4ee8c9a0c991d06">  116</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="structvt_1_1util_1_1adt_1_1detail_1_1_centroid.html#a781bd5bd78c178a2a4ee8c9a0c991d06">addCount</a>(<a class="code" href="structvt_1_1util_1_1adt_1_1detail_1_1_centroid.html#ac3815361e4f13eeb8b2863d2eb8db1dd">CountType</a> in_add) { <a class="code" href="structvt_1_1util_1_1adt_1_1detail_1_1_centroid.html#ac9df992e5ea17280b5d49bd0defa8c28">count_</a> += in_add; }</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160; </div>
<div class="line"><a name="l00123"></a><span class="lineno"><a class="line" href="structvt_1_1util_1_1adt_1_1detail_1_1_centroid.html#acad584e6798cbc7619d2b09f3f0cc06b">  123</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="structvt_1_1util_1_1adt_1_1detail_1_1_centroid.html#acad584e6798cbc7619d2b09f3f0cc06b">merge</a>(<a class="code" href="structvt_1_1util_1_1adt_1_1detail_1_1_centroid.html">Centroid&lt;T, CountT&gt;</a> <span class="keyword">const</span>&amp; in) {</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <a class="code" href="config__assert_8h.html#aeddd4990a496e91a0ca5d6c16437359b">vtAssert</a>(</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;      in.<a class="code" href="structvt_1_1util_1_1adt_1_1detail_1_1_centroid.html#ac9df992e5ea17280b5d49bd0defa8c28">count_</a> &lt;= std::numeric_limits&lt;CountT&gt;::max() - <a class="code" href="structvt_1_1util_1_1adt_1_1detail_1_1_centroid.html#ac9df992e5ea17280b5d49bd0defa8c28">count_</a>,</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;      <span class="stringliteral">&quot;Histogram count will overflow as result of this merge&quot;</span></div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    );</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160; </div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    <span class="keyword">auto</span> <span class="keyword">const</span> new_count = <a class="code" href="structvt_1_1util_1_1adt_1_1detail_1_1_centroid.html#ac9df992e5ea17280b5d49bd0defa8c28">count_</a> + in.<a class="code" href="structvt_1_1util_1_1adt_1_1detail_1_1_centroid.html#ac9df992e5ea17280b5d49bd0defa8c28">count_</a>;</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    <span class="keyword">auto</span> <span class="keyword">const</span> new_value = ((<a class="code" href="structvt_1_1util_1_1adt_1_1detail_1_1_centroid.html#a17b351e747aba8aa88699a4d9137a692">value_</a>*<a class="code" href="structvt_1_1util_1_1adt_1_1detail_1_1_centroid.html#ac9df992e5ea17280b5d49bd0defa8c28">count_</a>) + (in.<a class="code" href="structvt_1_1util_1_1adt_1_1detail_1_1_centroid.html#a17b351e747aba8aa88699a4d9137a692">value_</a>*in.<a class="code" href="structvt_1_1util_1_1adt_1_1detail_1_1_centroid.html#ac9df992e5ea17280b5d49bd0defa8c28">count_</a>))/new_count;</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <a class="code" href="structvt_1_1util_1_1adt_1_1detail_1_1_centroid.html#ac9df992e5ea17280b5d49bd0defa8c28">count_</a> = new_count;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    <a class="code" href="structvt_1_1util_1_1adt_1_1detail_1_1_centroid.html#a17b351e747aba8aa88699a4d9137a692">value_</a> = new_value;</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    <a class="code" href="structvt_1_1util_1_1adt_1_1detail_1_1_centroid.html#a8564071b97ee50cf6ee90510d9f90aac">exact_</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;  }</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160; </div>
<div class="line"><a name="l00141"></a><span class="lineno"><a class="line" href="structvt_1_1util_1_1adt_1_1detail_1_1_centroid.html#a07ab1f2d6f0497b8b98ce27672d9f0b2">  141</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="structvt_1_1util_1_1adt_1_1detail_1_1_centroid.html#a07ab1f2d6f0497b8b98ce27672d9f0b2">isExact</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="structvt_1_1util_1_1adt_1_1detail_1_1_centroid.html#a8564071b97ee50cf6ee90510d9f90aac">exact_</a>; }</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160; </div>
<div class="line"><a name="l00151"></a><span class="lineno"><a class="line" href="structvt_1_1util_1_1adt_1_1detail_1_1_centroid.html#a6d689befe39b63c2d22558863e56084f">  151</a></span>&#160;  <span class="keyword">friend</span> <span class="keywordtype">bool</span> <a class="code" href="structvt_1_1util_1_1adt_1_1detail_1_1_centroid.html#a6d689befe39b63c2d22558863e56084f">operator&lt;</a>(<a class="code" href="structvt_1_1util_1_1adt_1_1detail_1_1_centroid.html">Centroid&lt;T, CountT&gt;</a> <span class="keyword">const</span>&amp; c1, <span class="keywordtype">double</span> val) {</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    <span class="keywordflow">return</span> c1.<a class="code" href="structvt_1_1util_1_1adt_1_1detail_1_1_centroid.html#a17b351e747aba8aa88699a4d9137a692">value_</a> &lt; val;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;  }</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160; </div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> SerializerT&gt;</div>
<div class="line"><a name="l00156"></a><span class="lineno"><a class="line" href="structvt_1_1util_1_1adt_1_1detail_1_1_centroid.html#ad681c6c08ec1b8c48895b75ec370fa84">  156</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="structvt_1_1util_1_1adt_1_1detail_1_1_centroid.html#ad681c6c08ec1b8c48895b75ec370fa84">serialize</a>(SerializerT&amp; s) {</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    s | <a class="code" href="structvt_1_1util_1_1adt_1_1detail_1_1_centroid.html#a17b351e747aba8aa88699a4d9137a692">value_</a>;</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    s | <a class="code" href="structvt_1_1util_1_1adt_1_1detail_1_1_centroid.html#ac9df992e5ea17280b5d49bd0defa8c28">count_</a>;</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    s | <a class="code" href="structvt_1_1util_1_1adt_1_1detail_1_1_centroid.html#a8564071b97ee50cf6ee90510d9f90aac">exact_</a>;</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;  }</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160; </div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;<span class="keyword">private</span>:</div>
<div class="line"><a name="l00163"></a><span class="lineno"><a class="line" href="structvt_1_1util_1_1adt_1_1detail_1_1_centroid.html#a17b351e747aba8aa88699a4d9137a692">  163</a></span>&#160;  T <a class="code" href="structvt_1_1util_1_1adt_1_1detail_1_1_centroid.html#a17b351e747aba8aa88699a4d9137a692">value_</a> = {};                </div>
<div class="line"><a name="l00164"></a><span class="lineno"><a class="line" href="structvt_1_1util_1_1adt_1_1detail_1_1_centroid.html#ac9df992e5ea17280b5d49bd0defa8c28">  164</a></span>&#160;  <a class="code" href="structvt_1_1util_1_1adt_1_1detail_1_1_centroid.html#ac3815361e4f13eeb8b2863d2eb8db1dd">CountType</a> <a class="code" href="structvt_1_1util_1_1adt_1_1detail_1_1_centroid.html#ac9df992e5ea17280b5d49bd0defa8c28">count_</a> = 0;         </div>
<div class="line"><a name="l00165"></a><span class="lineno"><a class="line" href="structvt_1_1util_1_1adt_1_1detail_1_1_centroid.html#a8564071b97ee50cf6ee90510d9f90aac">  165</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="structvt_1_1util_1_1adt_1_1detail_1_1_centroid.html#a8564071b97ee50cf6ee90510d9f90aac">exact_</a> = <span class="keyword">true</span>;           </div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;};</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160; </div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;} <span class="comment">/* end namespace detail */</span></div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160; </div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, <span class="keyword">typename</span> CountT&gt;</div>
<div class="line"><a name="l00191"></a><span class="lineno"><a class="line" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html">  191</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html">HistogramApprox</a> {</div>
<div class="line"><a name="l00192"></a><span class="lineno"><a class="line" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#aa2fb74665588d311da76dd821f2912c6">  192</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#aa2fb74665588d311da76dd821f2912c6">CountType</a> = CountT;</div>
<div class="line"><a name="l00193"></a><span class="lineno"><a class="line" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#aabacbad5be3a407cb00938f079177b95">  193</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="structvt_1_1util_1_1adt_1_1detail_1_1_centroid.html">CentroidType</a> = <a class="code" href="structvt_1_1util_1_1adt_1_1detail_1_1_centroid.html">detail::Centroid&lt;T, CountType&gt;</a>;</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160; </div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;  <a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#accb60fd3c6827b4bc3f8db9d688397b3">HistogramApprox</a>() = <span class="keywordflow">default</span>; <span class="comment">// for serialization</span></div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160; </div>
<div class="line"><a name="l00202"></a><span class="lineno"><a class="line" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#a3b78cb4504ac095d913cefe1db3b442a">  202</a></span>&#160;  <span class="keyword">explicit</span> <a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#a3b78cb4504ac095d913cefe1db3b442a">HistogramApprox</a>(<a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#aa2fb74665588d311da76dd821f2912c6">CountType</a> in_max_centroids)</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    : <a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#a080a663250287f2c4bb1f2db58d60cf3">max_centroids_</a>(in_max_centroids)</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;  { }</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160; </div>
<div class="line"><a name="l00211"></a><span class="lineno"><a class="line" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#a3beb5b6e74470f8b6bf295217d5ff843">  211</a></span>&#160;  T <a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#a3beb5b6e74470f8b6bf295217d5ff843">getMax</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#a4bab4f7bffe5cd03a70be4013bd18403">max_</a>; }</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160; </div>
<div class="line"><a name="l00218"></a><span class="lineno"><a class="line" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#ab024713bdb28ef694096f3865236faa3">  218</a></span>&#160;  T <a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#ab024713bdb28ef694096f3865236faa3">getMin</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#a0cf82abced8b354d01757093e4510d46">min_</a>; }</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160; </div>
<div class="line"><a name="l00228"></a><span class="lineno"><a class="line" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#af61bc8614a5096610387643fc05bf2e9">  228</a></span>&#160;  <a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#aa2fb74665588d311da76dd821f2912c6">CountType</a> <a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#af61bc8614a5096610387643fc05bf2e9">getCount</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#aad876385bbf54051a56e736ef403f7a9">total_count_</a>; }</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160; </div>
<div class="line"><a name="l00236"></a><span class="lineno"><a class="line" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#a7d691b9a2139ae2d320a39c1d8fbabab">  236</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#a7d691b9a2139ae2d320a39c1d8fbabab">add</a>(T value, <a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#aa2fb74665588d311da76dd821f2912c6">CountType</a> num_times = 1) {</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    <span class="keywordflow">if</span> (value &lt; <a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#a0cf82abced8b354d01757093e4510d46">min_</a>) { <a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#a0cf82abced8b354d01757093e4510d46">min_</a> = value; }</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    <span class="keywordflow">if</span> (value &gt; <a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#a4bab4f7bffe5cd03a70be4013bd18403">max_</a>) { <a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#a4bab4f7bffe5cd03a70be4013bd18403">max_</a> = value; }</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160; </div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    <span class="comment">// add \c num_times to total count</span></div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    <a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#aad876385bbf54051a56e736ef403f7a9">total_count_</a> += num_times;</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160; </div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    <span class="comment">// Find an index k such that value_k &lt;= value &lt; value_{k+1} using a O(lg n)</span></div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    <span class="comment">// search on the underlying centroids</span></div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    <span class="keyword">auto</span> it = std::lower_bound(<a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#a777a1384cff8b2bd7e0cd8b8a7c4def4">cs_</a>.begin(), <a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#a777a1384cff8b2bd7e0cd8b8a7c4def4">cs_</a>.end(), value);</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    std::size_t k = it - <a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#a777a1384cff8b2bd7e0cd8b8a7c4def4">cs_</a>.begin();</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160; </div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    <span class="comment">// If we found a valid value and it&#39;s exactly equal, we are done!</span></div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <span class="keywordflow">if</span> (k &lt; <a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#a777a1384cff8b2bd7e0cd8b8a7c4def4">cs_</a>.size() and <a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#a777a1384cff8b2bd7e0cd8b8a7c4def4">cs_</a>[k].getValue() == value) {</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;      <a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#a777a1384cff8b2bd7e0cd8b8a7c4def4">cs_</a>[k].addCount(num_times);</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    }</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160; </div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    <span class="comment">// insert an element right before current position</span></div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    <a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#a777a1384cff8b2bd7e0cd8b8a7c4def4">cs_</a>.insert(it, <a class="code" href="structvt_1_1util_1_1adt_1_1detail_1_1_centroid.html">CentroidType</a>{value, num_times});</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160; </div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    <span class="comment">// check if we are at capacity; otherwise nothing to merge</span></div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#a777a1384cff8b2bd7e0cd8b8a7c4def4">cs_</a>.size() &gt; static_cast&lt;std::size_t&gt;(<a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#a080a663250287f2c4bb1f2db58d60cf3">max_centroids_</a>)) {</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;      <span class="comment">// remove a centroid by merging the optimal pick</span></div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;      <a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#a948e8a7dec4f205fc5bf1d1b896211b1">removeOneCentroid</a>();</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    }</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;  }</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160; </div>
<div class="line"><a name="l00272"></a><span class="lineno"><a class="line" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#afbaecd0105590bf33bbf73611fea5a5c">  272</a></span>&#160;  <span class="keywordtype">double</span> <a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#afbaecd0105590bf33bbf73611fea5a5c">quantile</a>(<span class="keywordtype">double</span> <span class="keyword">const</span> p) {</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    <a class="code" href="config__assert_8h.html#aeddd4990a496e91a0ca5d6c16437359b">vtAssert</a>(!(p &lt; 0.0 || p &gt; 1.0), <span class="stringliteral">&quot;percentile must be between 0.0 and 1.0&quot;</span>);</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    <a class="code" href="config__assert_8h.html#aeddd4990a496e91a0ca5d6c16437359b">vtAssert</a>(<a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#aad876385bbf54051a56e736ef403f7a9">total_count_</a> &gt;= 1, <span class="stringliteral">&quot;Must have at least one value to calculate&quot;</span>);</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160; </div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    <span class="keywordtype">double</span> <span class="keyword">const</span> t = p * <a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#aad876385bbf54051a56e736ef403f7a9">total_count_</a>;</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    <span class="keywordtype">double</span> s = 0.;</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    <span class="keywordtype">double</span> pv = 0.;</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160; </div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    <span class="comment">// Find the last two consecutive centroids (ci, cj) such that the sum of all</span></div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    <span class="comment">// centroid weights up to ci plus half of cj is at most t. This implies the</span></div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    <span class="comment">// quantile is between ci and cj</span></div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    std::size_t i = 0;</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    <span class="keywordflow">for</span> ( ; i &lt; <a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#a777a1384cff8b2bd7e0cd8b8a7c4def4">cs_</a>.size(); i++) {</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;      <span class="keywordtype">double</span> v = <a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#a777a1384cff8b2bd7e0cd8b8a7c4def4">cs_</a>[i].getCount() / 2.;</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;      <span class="keywordflow">if</span> (s + pv + v &gt; t) {</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;      }</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;      s += v + pv;</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;      pv = v;</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    }</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160; </div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    <span class="comment">// Border centroids give a more precise approximation of the quantiles</span></div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    <span class="keyword">auto</span> centroids = <a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#ac376fd975845204cca3425c8517376f6">getBorderCentroids</a>(i);</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    <span class="keyword">auto</span> ci = std::get&lt;0&gt;(centroids);</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    <span class="keyword">auto</span> cj = std::get&lt;1&gt;(centroids);</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160; </div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    <span class="comment">// If we found exact centroids, return the value</span></div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    <span class="keywordflow">if</span> (ci.isExact() and cj.isExact()) {</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;      <span class="keywordflow">return</span> cj.getValue();</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    }</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160; </div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    <span class="comment">// See paper; we are solving a quadratic.</span></div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    <span class="comment">// Let cx.p = cx.getValue(), cx.m = cx.getCount()</span></div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    <span class="comment">// solve for u such that t-s = (ci.m + mu)/2 * (u-ci.p)/(cj.p - ci.p),</span></div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    <span class="comment">// where mu = ci.m + (u-ci.p)*(cj.m - ci.m)/(cj.p - ci.p).</span></div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    <span class="keyword">auto</span> <span class="keyword">const</span> mi = ci.getCount();</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    <span class="keyword">auto</span> <span class="keyword">const</span> pi = ci.getValue();</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    <span class="keyword">auto</span> <span class="keyword">const</span> mj = cj.getCount();</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    <span class="keyword">auto</span> <span class="keyword">const</span> pj = cj.getValue();</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    <span class="keywordtype">double</span> <span class="keyword">const</span> d = t - s;</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    <span class="keywordtype">double</span> <span class="keyword">const</span> a = mj - mi;</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    <span class="keywordflow">if</span> (a == 0) {</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;      <span class="keywordflow">return</span> pi + (pj - pi) * (d / mi);</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    }</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    <span class="keywordtype">double</span> <span class="keyword">const</span> b = 2.0 * ci.getCount();</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    <span class="keywordtype">double</span> <span class="keyword">const</span> c = -2.0 * d;</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    <span class="keywordtype">double</span> <span class="keyword">const</span> z = (-b + std::sqrt(b * b - 4 * a * c)) / (2 * a);</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    <span class="keywordflow">return</span> pi + (pj - pi) * z;</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;  }</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160; </div>
<div class="line"><a name="l00332"></a><span class="lineno"><a class="line" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#adc37c23f9b9d846e4fb0f7b788cb54de">  332</a></span>&#160;  <span class="keywordtype">double</span> <a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#adc37c23f9b9d846e4fb0f7b788cb54de">estimateNumValues</a>(<span class="keywordtype">double</span> p) {</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    <span class="keywordflow">if</span> (p &gt;= <a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#a4bab4f7bffe5cd03a70be4013bd18403">max_</a>) { <span class="keywordflow">return</span> <a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#aad876385bbf54051a56e736ef403f7a9">total_count_</a>; }</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    <span class="keywordflow">if</span> (p &lt; <a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#a0cf82abced8b354d01757093e4510d46">min_</a>) { <span class="keywordflow">return</span> 0; }</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160; </div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    <span class="comment">// Find an index k such that p_k &lt;= p &lt; p_{k+1}</span></div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    <span class="keyword">auto</span> it = std::lower_bound(<a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#a777a1384cff8b2bd7e0cd8b8a7c4def4">cs_</a>.begin(), <a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#a777a1384cff8b2bd7e0cd8b8a7c4def4">cs_</a>.end(), p);</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    std::size_t k = it - <a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#a777a1384cff8b2bd7e0cd8b8a7c4def4">cs_</a>.begin();</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160; </div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    <span class="comment">// \c std::lower_bound doesn&#39;t quite do what we need (when p == p_k)</span></div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#a777a1384cff8b2bd7e0cd8b8a7c4def4">cs_</a>[k].getValue() == p) {</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;      k++;</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    }</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160; </div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    <span class="comment">// The following is equivalent to what the above code with</span></div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    <span class="comment">// \c std::lower_bound does:</span></div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    <span class="comment">// std::size_t k = 0;</span></div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    <span class="comment">// for (; k &lt; cs_.size(); k++) {</span></div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    <span class="comment">//   if (cs_[k].getValue() &gt; p) {</span></div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    <span class="comment">//     break;</span></div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    <span class="comment">//   }</span></div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    <span class="comment">// }</span></div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160; </div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    <span class="keywordtype">double</span> s = 0.;</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    <span class="keywordflow">if</span> (k &gt; 0) {</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;      <span class="keywordflow">for</span> (std::size_t i = 0; i &lt; k - 1; i++) {</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;        s += <a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#a777a1384cff8b2bd7e0cd8b8a7c4def4">cs_</a>[i].getCount();</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;      }</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    }</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160; </div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    <span class="keyword">auto</span> centroids = <a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#ac376fd975845204cca3425c8517376f6">getBorderCentroids</a>(k);</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    <span class="keyword">auto</span> ci = std::get&lt;0&gt;(centroids);</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    <span class="keyword">auto</span> cj = std::get&lt;1&gt;(centroids);</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    <span class="keyword">auto</span> <span class="keyword">const</span> mi = ci.getCount();</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    <span class="keyword">auto</span> <span class="keyword">const</span> pi = ci.getValue();</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    <span class="keyword">auto</span> <span class="keyword">const</span> mj = cj.getCount();</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    <span class="keyword">auto</span> <span class="keyword">const</span> pj = cj.getValue();</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160; </div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    <span class="comment">// This is an improvement on the paper when we know the estimation is exact</span></div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    <span class="comment">// because it was never merged</span></div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    <span class="keywordflow">if</span> (ci.isExact() &amp;&amp; (cj.isExact() || pi == p)) {</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;      <span class="keywordflow">return</span> s + mi;</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    }</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160; </div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    <span class="comment">// Compute the formula for approximating across the centroids</span></div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    <span class="keywordtype">double</span> x = (p - pi) / (pj - pi);</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    <span class="keywordtype">double</span> b = mi + (mj - mi) * x;</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    <span class="keywordtype">double</span> est = s + mi / 2.0 + (mi + b) * x / 2.0;</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    <span class="keywordflow">return</span> est;</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;  }</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160; </div>
<div class="line"><a name="l00389"></a><span class="lineno"><a class="line" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#af3a3a4065892e90e346fdfbf6060dc9c">  389</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#af3a3a4065892e90e346fdfbf6060dc9c">mergeIn</a>(<a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html">HistogramApprox&lt;T, CountType&gt;</a> <span class="keyword">const</span>&amp; in_hist) {</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    <span class="keyword">auto</span> <span class="keyword">const</span>&amp; in_cs = in_hist.<a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#ac23b01ef594bcdd86859becf7d81c3b2">getCentroids</a>();</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160; </div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    <span class="comment">// Max/used centroids for the histogram</span></div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    <span class="keyword">auto</span> <span class="keyword">const</span> cur_max_centroids = <a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#a5b6af36eb1219d09bf17349731ed66ff">getMaxCentroids</a>();</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    <span class="keyword">auto</span> <span class="keyword">const</span> cur_used_centroids = <a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#acdc73bd403084f66fc7d6011e4853ff6">getNumCentroids</a>();</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160; </div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    <span class="comment">// Number of centroids used for input histogram; worst case we will need</span></div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    <span class="comment">// this many to insert without any merges</span></div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    <span class="keyword">auto</span> in_num_centroids = in_hist.<a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#acdc73bd403084f66fc7d6011e4853ff6">getNumCentroids</a>();</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160; </div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    <span class="comment">// Resize to: this-&gt;max + in_hist.used</span></div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    <span class="keywordflow">if</span> (cur_max_centroids - cur_used_centroids &lt; in_num_centroids) {</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;      <a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#aa23f54efa5c883d2759ceacd3f32279a">setMaxCentroids</a>(cur_max_centroids + in_num_centroids);</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    }</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160; </div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    <span class="comment">// Add in all the centroids from the input histogram</span></div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp;&amp; c : in_cs) {</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;      <a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#a7d691b9a2139ae2d320a39c1d8fbabab">add</a>(c.getValue(), c.getCount());</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    }</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160; </div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    <span class="comment">// Pare the histogram down to the allowed size</span></div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    <a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#a8827a511e5b810ffca9da33d769bc4b9">pareToNewMaxCentroids</a>(cur_max_centroids);</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;  }</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160; </div>
<div class="line"><a name="l00428"></a><span class="lineno"><a class="line" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#a740842719c1af07e00fcfaa4093dc193">  428</a></span>&#160;  std::vector&lt;CountType&gt; <a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#a740842719c1af07e00fcfaa4093dc193">computeFixedBuckets</a>(<span class="keywordtype">int</span> n_buckets) {</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    <span class="keyword">auto</span> <span class="keyword">const</span> r = <a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#a3beb5b6e74470f8b6bf295217d5ff843">getMax</a>() - <a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#ab024713bdb28ef694096f3865236faa3">getMin</a>();</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    <span class="keyword">auto</span> <span class="keyword">const</span> bucket_size = r / n_buckets;</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160; </div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;    std::vector&lt;double&gt; buckets;</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> i = 0; i &lt; n_buckets; i++) {</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;      <span class="keyword">auto</span> q = <a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#ab024713bdb28ef694096f3865236faa3">getMin</a>() + bucket_size*(i+1);</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;      <span class="comment">// get the number of values that fall less than this value</span></div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;      <span class="keyword">auto</span> n_vals = <a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#adc37c23f9b9d846e4fb0f7b788cb54de">estimateNumValues</a>(q);</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;      buckets.push_back(n_vals);</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;    }</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160; </div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    std::vector&lt;CountType&gt; segments;</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    segments.resize(n_buckets);</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> i = n_buckets - 1; i &gt;= 0; i--) {</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;      <span class="keywordflow">if</span> (i == 0) {</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;        segments[i] = std::round(buckets[i]);</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;        segments[i] = std::round(buckets[i] - buckets[i-1]);</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;      }</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;    }</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160; </div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    <span class="keywordflow">return</span> segments;</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;  }</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160; </div>
<div class="line"><a name="l00458"></a><span class="lineno"><a class="line" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#ac23b01ef594bcdd86859becf7d81c3b2">  458</a></span>&#160;  std::vector&lt;CentroidType&gt; <span class="keyword">const</span>&amp; <a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#ac23b01ef594bcdd86859becf7d81c3b2">getCentroids</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#a777a1384cff8b2bd7e0cd8b8a7c4def4">cs_</a>; }</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160; </div>
<div class="line"><a name="l00463"></a><span class="lineno"><a class="line" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#a26c7f2922772baf00c50dcf5e88ad023">  463</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#a26c7f2922772baf00c50dcf5e88ad023">dump</a>() {</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    <a class="code" href="debug__print_8h.html#ad4964b98cfd2a0b5665f3a481a1a61fe">vt_print</a>(</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;      <a class="code" href="namespacevt_1_1config.html#a6bd1d6215bda0d8ca02811798399f689a5b2fa777115f03c6d550ec721c0a93a5">gen</a>,</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;      <span class="stringliteral">&quot;dump: count={}, min={}, max={}, cs_.size={}\n&quot;</span>,</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;      <a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#aad876385bbf54051a56e736ef403f7a9">total_count_</a>, <a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#a0cf82abced8b354d01757093e4510d46">min_</a>, <a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#a4bab4f7bffe5cd03a70be4013bd18403">max_</a>, <a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#a777a1384cff8b2bd7e0cd8b8a7c4def4">cs_</a>.size()</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    );</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;    <span class="keywordflow">for</span> (std::size_t i = 0; i &lt; <a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#a777a1384cff8b2bd7e0cd8b8a7c4def4">cs_</a>.size(); i++) {</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;      <a class="code" href="debug__print_8h.html#ad4964b98cfd2a0b5665f3a481a1a61fe">vt_print</a>(</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;        <a class="code" href="namespacevt_1_1config.html#a6bd1d6215bda0d8ca02811798399f689a5b2fa777115f03c6d550ec721c0a93a5">gen</a>,</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;        <span class="stringliteral">&quot;\t i={} value={}, count={}\n&quot;</span>, i, <a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#a777a1384cff8b2bd7e0cd8b8a7c4def4">cs_</a>[i].getValue(), <a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#a777a1384cff8b2bd7e0cd8b8a7c4def4">cs_</a>[i].<a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#af61bc8614a5096610387643fc05bf2e9">getCount</a>()</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;      );</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    }</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;  }</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160; </div>
<div class="line"><a name="l00480"></a><span class="lineno"><a class="line" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#ada0f64fb2e7d5f1e7827bec2762a1291">  480</a></span>&#160;  std::string <a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#ada0f64fb2e7d5f1e7827bec2762a1291">buildContainerString</a>() {</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;    <span class="keyword">auto</span> container_info = fmt::format(<span class="stringliteral">&quot;{} {} {} [&quot;</span>, <a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#aad876385bbf54051a56e736ef403f7a9">total_count_</a>, <a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#a0cf82abced8b354d01757093e4510d46">min_</a>, <a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#a4bab4f7bffe5cd03a70be4013bd18403">max_</a>);</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    std::size_t i = 0;</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp;&amp; c : <a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#a777a1384cff8b2bd7e0cd8b8a7c4def4">cs_</a>) {</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;      container_info += fmt::format(<span class="stringliteral">&quot;{{{} {}}}&quot;</span>, c.getValue(), c.getCount());</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;      container_info += i != <a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#a777a1384cff8b2bd7e0cd8b8a7c4def4">cs_</a>.size() - 1 ? <span class="stringliteral">&quot; &quot;</span> : <span class="stringliteral">&quot;]&quot;</span>;</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;      i++;</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    }</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    <span class="keywordflow">return</span> container_info;</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;  }</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160; </div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> SerializerT&gt;</div>
<div class="line"><a name="l00497"></a><span class="lineno"><a class="line" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#aae8a321f42f550b711aeeb50ac8ef913">  497</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#aae8a321f42f550b711aeeb50ac8ef913">serialize</a>(SerializerT&amp; s) {</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;    s | <a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#a080a663250287f2c4bb1f2db58d60cf3">max_centroids_</a>;</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;    s | <a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#aad876385bbf54051a56e736ef403f7a9">total_count_</a>;</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    s | <a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#a0cf82abced8b354d01757093e4510d46">min_</a>;</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    s | <a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#a4bab4f7bffe5cd03a70be4013bd18403">max_</a>;</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    s | <a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#a777a1384cff8b2bd7e0cd8b8a7c4def4">cs_</a>;</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;  }</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160; </div>
<div class="line"><a name="l00510"></a><span class="lineno"><a class="line" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#a5b6af36eb1219d09bf17349731ed66ff">  510</a></span>&#160;  <a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#aa2fb74665588d311da76dd821f2912c6">CountType</a> <a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#a5b6af36eb1219d09bf17349731ed66ff">getMaxCentroids</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#a080a663250287f2c4bb1f2db58d60cf3">max_centroids_</a>;</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;  }</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160; </div>
<div class="line"><a name="l00519"></a><span class="lineno"><a class="line" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#acdc73bd403084f66fc7d6011e4853ff6">  519</a></span>&#160;  <a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#aa2fb74665588d311da76dd821f2912c6">CountType</a> <a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#acdc73bd403084f66fc7d6011e4853ff6">getNumCentroids</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#a777a1384cff8b2bd7e0cd8b8a7c4def4">cs_</a>.size();</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;  }</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160; </div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;<span class="keyword">private</span>:</div>
<div class="line"><a name="l00533"></a><span class="lineno"><a class="line" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#aa23f54efa5c883d2759ceacd3f32279a">  533</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#aa23f54efa5c883d2759ceacd3f32279a">setMaxCentroids</a>(<a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#aa2fb74665588d311da76dd821f2912c6">CountType</a> in_max_centroids) {</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;    <a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#a080a663250287f2c4bb1f2db58d60cf3">max_centroids_</a> = in_max_centroids;</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;  }</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160; </div>
<div class="line"><a name="l00542"></a><span class="lineno"><a class="line" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#a8827a511e5b810ffca9da33d769bc4b9">  542</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#a8827a511e5b810ffca9da33d769bc4b9">pareToNewMaxCentroids</a>(<a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#aa2fb74665588d311da76dd821f2912c6">CountType</a> in_max_centroids) {</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;    <span class="comment">// Keep removing the best centroid until we pare down to the new max</span></div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;    <span class="keywordflow">while</span> (<a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#a777a1384cff8b2bd7e0cd8b8a7c4def4">cs_</a>.size() &gt; static_cast&lt;std::size_t&gt;(in_max_centroids)) {</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;      <a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#a948e8a7dec4f205fc5bf1d1b896211b1">removeOneCentroid</a>();</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;    }</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160; </div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;    <span class="comment">// Finally, set the max</span></div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;    <a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#aa23f54efa5c883d2759ceacd3f32279a">setMaxCentroids</a>(in_max_centroids);</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;  }</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160; </div>
<div class="line"><a name="l00557"></a><span class="lineno"><a class="line" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#a948e8a7dec4f205fc5bf1d1b896211b1">  557</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#a948e8a7dec4f205fc5bf1d1b896211b1">removeOneCentroid</a>() {</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;    <span class="comment">// find the best candidate for merging two centroids since we are over the</span></div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;    <span class="comment">// space limit</span></div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;    <span class="keyword">auto</span> min_idx = <a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#a0bba7a9d03149be996f45bfe245abd03">findMinimumCentroidPair</a>();</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;    <span class="comment">// merge them</span></div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;    <a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#a777a1384cff8b2bd7e0cd8b8a7c4def4">cs_</a>[min_idx].merge(<a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#a777a1384cff8b2bd7e0cd8b8a7c4def4">cs_</a>[min_idx+1]);</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;    <span class="comment">// shift centroids in place</span></div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> j = min_idx + 1; j &lt; <a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#a777a1384cff8b2bd7e0cd8b8a7c4def4">cs_</a>.size() - 1; j++) {</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;      <a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#a777a1384cff8b2bd7e0cd8b8a7c4def4">cs_</a>[j] = <a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#a777a1384cff8b2bd7e0cd8b8a7c4def4">cs_</a>[j+1];</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;    }</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;    <span class="comment">// remove the last element, now dead</span></div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;    <a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#a777a1384cff8b2bd7e0cd8b8a7c4def4">cs_</a>.pop_back();</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;  }</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160; </div>
<div class="line"><a name="l00577"></a><span class="lineno"><a class="line" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#a0bba7a9d03149be996f45bfe245abd03">  577</a></span>&#160;  std::size_t <a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#a0bba7a9d03149be996f45bfe245abd03">findMinimumCentroidPair</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;    T min_dist = std::numeric_limits&lt;T&gt;::max();</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;    std::size_t min_index = <a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#a777a1384cff8b2bd7e0cd8b8a7c4def4">cs_</a>.size();</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;    <span class="keywordflow">for</span> (std::size_t i = 0; i &lt; <a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#a777a1384cff8b2bd7e0cd8b8a7c4def4">cs_</a>.size() - 1; i++) {</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;      <span class="comment">// Walk through sorted centroids calculating the distance between: cs_[i]</span></div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;      <span class="comment">// and cs_[+1]; return the best match for merging (min distance)</span></div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;      <span class="keyword">auto</span> dist = std::fabs(<a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#a777a1384cff8b2bd7e0cd8b8a7c4def4">cs_</a>[i+1].getValue() - <a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#a777a1384cff8b2bd7e0cd8b8a7c4def4">cs_</a>[i].getValue());</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;      <span class="keywordflow">if</span> (dist &lt; min_dist) {</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;        min_dist = dist;</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;        min_index = i;</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;      }</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;    }</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;    <a class="code" href="config__assert_8h.html#aeddd4990a496e91a0ca5d6c16437359b">vtAssert</a>(min_index != <a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#a777a1384cff8b2bd7e0cd8b8a7c4def4">cs_</a>.size(), <span class="stringliteral">&quot;Must be valid index&quot;</span>);</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;    <span class="keywordflow">return</span> min_index;</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;  }</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160; </div>
<div class="line"><a name="l00605"></a><span class="lineno"><a class="line" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#ac376fd975845204cca3425c8517376f6">  605</a></span>&#160;  std::tuple&lt;CentroidType, CentroidType&gt; <a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#ac376fd975845204cca3425c8517376f6">getBorderCentroids</a>(std::size_t i)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;    <span class="keywordflow">if</span> (i == 0) {</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;      <span class="keywordflow">return</span> std::make_tuple(<a class="code" href="structvt_1_1util_1_1adt_1_1detail_1_1_centroid.html">CentroidType</a>{<a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#a0cf82abced8b354d01757093e4510d46">min_</a>, 0}, <a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#a777a1384cff8b2bd7e0cd8b8a7c4def4">cs_</a>[0]);</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (i == <a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#a777a1384cff8b2bd7e0cd8b8a7c4def4">cs_</a>.size()) {</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;      <span class="keywordflow">return</span> std::make_tuple(<a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#a777a1384cff8b2bd7e0cd8b8a7c4def4">cs_</a>[<a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#a777a1384cff8b2bd7e0cd8b8a7c4def4">cs_</a>.size()-1], <a class="code" href="structvt_1_1util_1_1adt_1_1detail_1_1_centroid.html">CentroidType</a>{<a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#a4bab4f7bffe5cd03a70be4013bd18403">max_</a>, 0});</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;      <span class="keywordflow">return</span> std::make_tuple(<a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#a777a1384cff8b2bd7e0cd8b8a7c4def4">cs_</a>[i-1], <a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#a777a1384cff8b2bd7e0cd8b8a7c4def4">cs_</a>[i]);</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;    }</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;  }</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160; </div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;<span class="keyword">private</span>:</div>
<div class="line"><a name="l00616"></a><span class="lineno"><a class="line" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#a080a663250287f2c4bb1f2db58d60cf3">  616</a></span>&#160;  <a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#aa2fb74665588d311da76dd821f2912c6">CountType</a> <a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#a080a663250287f2c4bb1f2db58d60cf3">max_centroids_</a> = 0;              </div>
<div class="line"><a name="l00617"></a><span class="lineno"><a class="line" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#aad876385bbf54051a56e736ef403f7a9">  617</a></span>&#160;  <a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#aa2fb74665588d311da76dd821f2912c6">CountType</a> <a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#aad876385bbf54051a56e736ef403f7a9">total_count_</a> = 0;                </div>
<div class="line"><a name="l00618"></a><span class="lineno"><a class="line" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#a0cf82abced8b354d01757093e4510d46">  618</a></span>&#160;  T <a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#a0cf82abced8b354d01757093e4510d46">min_</a> = std::numeric_limits&lt;T&gt;::max();    </div>
<div class="line"><a name="l00619"></a><span class="lineno"><a class="line" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#a4bab4f7bffe5cd03a70be4013bd18403">  619</a></span>&#160;  T <a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#a4bab4f7bffe5cd03a70be4013bd18403">max_</a> = std::numeric_limits&lt;T&gt;::lowest(); </div>
<div class="line"><a name="l00620"></a><span class="lineno"><a class="line" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#a777a1384cff8b2bd7e0cd8b8a7c4def4">  620</a></span>&#160;  std::vector&lt;CentroidType&gt; <a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#a777a1384cff8b2bd7e0cd8b8a7c4def4">cs_</a>;             </div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;};</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160; </div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;}}} <span class="comment">/* end namespace vt::util::adt */</span></div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160; </div>
<div class="line"><a name="l00625"></a><span class="lineno"><a class="line" href="namespacevt_1_1adt.html">  625</a></span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacevt.html">vt</a> { <span class="keyword">namespace </span>adt {</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160; </div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, <span class="keyword">typename</span> CountT&gt;</div>
<div class="line"><a name="l00628"></a><span class="lineno"><a class="line" href="namespacevt_1_1adt.html#a486971e142bc22434d6afe695c43b599">  628</a></span>&#160;<span class="keyword">using</span> <a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html">HistogramApprox</a> = <a class="code" href="structvt_1_1util_1_1adt_1_1_histogram_approx.html">util::adt::HistogramApprox&lt;T, CountT&gt;</a>;</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160; </div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;}} <span class="comment">/* end namespace vt::adt */</span></div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160; </div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/*INCLUDED_VT_UTILS_ADT_HISTOGRAM_APPROX_H*/</span><span class="preprocessor"></span></div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="adebug__print_8h_html_ad4964b98cfd2a0b5665f3a481a1a61fe"><div class="ttname"><a href="debug__print_8h.html#ad4964b98cfd2a0b5665f3a481a1a61fe">vt_print</a></div><div class="ttdeci">#define vt_print(feature,...)</div><div class="ttdef"><b>Definition:</b> debug_print.h:157</div></div>
<div class="ttc" id="astructvt_1_1util_1_1adt_1_1_histogram_approx_html_a0bba7a9d03149be996f45bfe245abd03"><div class="ttname"><a href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#a0bba7a9d03149be996f45bfe245abd03">vt::util::adt::HistogramApprox::findMinimumCentroidPair</a></div><div class="ttdeci">std::size_t findMinimumCentroidPair() const</div><div class="ttdoc">Find the best candidate for merging two neighboring centroids in the histogram.</div><div class="ttdef"><b>Definition:</b> histogram_approx.h:577</div></div>
<div class="ttc" id="astructvt_1_1util_1_1adt_1_1_histogram_approx_html_a26c7f2922772baf00c50dcf5e88ad023"><div class="ttname"><a href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#a26c7f2922772baf00c50dcf5e88ad023">vt::util::adt::HistogramApprox::dump</a></div><div class="ttdeci">void dump()</div><div class="ttdoc">Dump the histogram for debugging.</div><div class="ttdef"><b>Definition:</b> histogram_approx.h:463</div></div>
<div class="ttc" id="astructvt_1_1util_1_1adt_1_1detail_1_1_centroid_html"><div class="ttname"><a href="structvt_1_1util_1_1adt_1_1detail_1_1_centroid.html">vt::util::adt::detail::Centroid</a></div><div class="ttdoc">A centroid in the histogram with a value and count.</div><div class="ttdef"><b>Definition:</b> histogram_approx.h:67</div></div>
<div class="ttc" id="astructvt_1_1util_1_1adt_1_1detail_1_1_centroid_html_a566041829c6432cb574dec14a7686141"><div class="ttname"><a href="structvt_1_1util_1_1adt_1_1detail_1_1_centroid.html#a566041829c6432cb574dec14a7686141">vt::util::adt::detail::Centroid::Centroid</a></div><div class="ttdeci">Centroid()=default</div></div>
<div class="ttc" id="astructvt_1_1util_1_1adt_1_1detail_1_1_centroid_html_ac3815361e4f13eeb8b2863d2eb8db1dd"><div class="ttname"><a href="structvt_1_1util_1_1adt_1_1detail_1_1_centroid.html#ac3815361e4f13eeb8b2863d2eb8db1dd">vt::util::adt::detail::Centroid::CountType</a></div><div class="ttdeci">CountT CountType</div><div class="ttdef"><b>Definition:</b> histogram_approx.h:68</div></div>
<div class="ttc" id="astructvt_1_1util_1_1adt_1_1_histogram_approx_html_af61bc8614a5096610387643fc05bf2e9"><div class="ttname"><a href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#af61bc8614a5096610387643fc05bf2e9">vt::util::adt::HistogramApprox::getCount</a></div><div class="ttdeci">CountType getCount() const</div><div class="ttdoc">Get the total number of values inserted.</div><div class="ttdef"><b>Definition:</b> histogram_approx.h:228</div></div>
<div class="ttc" id="astructvt_1_1util_1_1adt_1_1_histogram_approx_html_afbaecd0105590bf33bbf73611fea5a5c"><div class="ttname"><a href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#afbaecd0105590bf33bbf73611fea5a5c">vt::util::adt::HistogramApprox::quantile</a></div><div class="ttdeci">double quantile(double const p)</div><div class="ttdoc">Estimate the p'th quantile defined as the smallest data point, d, such that p*total_count_ &lt;= d.</div><div class="ttdef"><b>Definition:</b> histogram_approx.h:272</div></div>
<div class="ttc" id="astructvt_1_1util_1_1adt_1_1detail_1_1_centroid_html_ad681c6c08ec1b8c48895b75ec370fa84"><div class="ttname"><a href="structvt_1_1util_1_1adt_1_1detail_1_1_centroid.html#ad681c6c08ec1b8c48895b75ec370fa84">vt::util::adt::detail::Centroid::serialize</a></div><div class="ttdeci">void serialize(SerializerT &amp;s)</div><div class="ttdef"><b>Definition:</b> histogram_approx.h:156</div></div>
<div class="ttc" id="astructvt_1_1util_1_1adt_1_1detail_1_1_centroid_html_ac9df992e5ea17280b5d49bd0defa8c28"><div class="ttname"><a href="structvt_1_1util_1_1adt_1_1detail_1_1_centroid.html#ac9df992e5ea17280b5d49bd0defa8c28">vt::util::adt::detail::Centroid::count_</a></div><div class="ttdeci">CountType count_</div><div class="ttdef"><b>Definition:</b> histogram_approx.h:164</div></div>
<div class="ttc" id="astructvt_1_1util_1_1adt_1_1_histogram_approx_html_a3b78cb4504ac095d913cefe1db3b442a"><div class="ttname"><a href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#a3b78cb4504ac095d913cefe1db3b442a">vt::util::adt::HistogramApprox::HistogramApprox</a></div><div class="ttdeci">HistogramApprox(CountType in_max_centroids)</div><div class="ttdoc">Construct a new approximate histogram with a bound on storage.</div><div class="ttdef"><b>Definition:</b> histogram_approx.h:202</div></div>
<div class="ttc" id="astructvt_1_1util_1_1adt_1_1_histogram_approx_html_aad876385bbf54051a56e736ef403f7a9"><div class="ttname"><a href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#aad876385bbf54051a56e736ef403f7a9">vt::util::adt::HistogramApprox::total_count_</a></div><div class="ttdeci">CountType total_count_</div><div class="ttdef"><b>Definition:</b> histogram_approx.h:617</div></div>
<div class="ttc" id="anamespacevt_1_1config_html_a6bd1d6215bda0d8ca02811798399f689a5b2fa777115f03c6d550ec721c0a93a5"><div class="ttname"><a href="namespacevt_1_1config.html#a6bd1d6215bda0d8ca02811798399f689a5b2fa777115f03c6d550ec721c0a93a5">vt::config::gen</a></div><div class="ttdef"><b>Definition:</b> debug_config.h:53</div></div>
<div class="ttc" id="astructvt_1_1util_1_1adt_1_1detail_1_1_centroid_html_acad584e6798cbc7619d2b09f3f0cc06b"><div class="ttname"><a href="structvt_1_1util_1_1adt_1_1detail_1_1_centroid.html#acad584e6798cbc7619d2b09f3f0cc06b">vt::util::adt::detail::Centroid::merge</a></div><div class="ttdeci">void merge(Centroid&lt; T, CountT &gt; const &amp;in)</div><div class="ttdoc">Merge in another centroid.</div><div class="ttdef"><b>Definition:</b> histogram_approx.h:123</div></div>
<div class="ttc" id="astructvt_1_1util_1_1adt_1_1detail_1_1_centroid_html_a16f468b91d64cd35579e5ca7785b7ff4"><div class="ttname"><a href="structvt_1_1util_1_1adt_1_1detail_1_1_centroid.html#a16f468b91d64cd35579e5ca7785b7ff4">vt::util::adt::detail::Centroid::getValue</a></div><div class="ttdeci">T getValue() const</div><div class="ttdoc">Get the value.</div><div class="ttdef"><b>Definition:</b> histogram_approx.h:88</div></div>
<div class="ttc" id="astructvt_1_1util_1_1adt_1_1_histogram_approx_html_aa23f54efa5c883d2759ceacd3f32279a"><div class="ttname"><a href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#aa23f54efa5c883d2759ceacd3f32279a">vt::util::adt::HistogramApprox::setMaxCentroids</a></div><div class="ttdeci">void setMaxCentroids(CountType in_max_centroids)</div><div class="ttdoc">Modify the max centroids allows.</div><div class="ttdef"><b>Definition:</b> histogram_approx.h:533</div></div>
<div class="ttc" id="aconfig__assert_8h_html_aeddd4990a496e91a0ca5d6c16437359b"><div class="ttname"><a href="config__assert_8h.html#aeddd4990a496e91a0ca5d6c16437359b">vtAssert</a></div><div class="ttdeci">#define vtAssert(cond, str)</div><div class="ttdef"><b>Definition:</b> config_assert.h:151</div></div>
<div class="ttc" id="astructvt_1_1util_1_1adt_1_1detail_1_1_centroid_html_a6d689befe39b63c2d22558863e56084f"><div class="ttname"><a href="structvt_1_1util_1_1adt_1_1detail_1_1_centroid.html#a6d689befe39b63c2d22558863e56084f">vt::util::adt::detail::Centroid::operator&lt;</a></div><div class="ttdeci">friend bool operator&lt;(Centroid&lt; T, CountT &gt; const &amp;c1, double val)</div><div class="ttdoc">Compare a centroid to a double using the value.</div><div class="ttdef"><b>Definition:</b> histogram_approx.h:151</div></div>
<div class="ttc" id="astructvt_1_1util_1_1adt_1_1detail_1_1_centroid_html_a07ab1f2d6f0497b8b98ce27672d9f0b2"><div class="ttname"><a href="structvt_1_1util_1_1adt_1_1detail_1_1_centroid.html#a07ab1f2d6f0497b8b98ce27672d9f0b2">vt::util::adt::detail::Centroid::isExact</a></div><div class="ttdeci">bool isExact() const</div><div class="ttdoc">Return if this centroid is exact or approximated.</div><div class="ttdef"><b>Definition:</b> histogram_approx.h:141</div></div>
<div class="ttc" id="astructvt_1_1util_1_1adt_1_1_histogram_approx_html_af3a3a4065892e90e346fdfbf6060dc9c"><div class="ttname"><a href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#af3a3a4065892e90e346fdfbf6060dc9c">vt::util::adt::HistogramApprox::mergeIn</a></div><div class="ttdeci">void mergeIn(HistogramApprox&lt; T, CountType &gt; const &amp;in_hist)</div><div class="ttdoc">Merge in another histogram.</div><div class="ttdef"><b>Definition:</b> histogram_approx.h:389</div></div>
<div class="ttc" id="astructvt_1_1util_1_1adt_1_1_histogram_approx_html_ada0f64fb2e7d5f1e7827bec2762a1291"><div class="ttname"><a href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#ada0f64fb2e7d5f1e7827bec2762a1291">vt::util::adt::HistogramApprox::buildContainerString</a></div><div class="ttdeci">std::string buildContainerString()</div><div class="ttdoc">Build a readable string that contains all internal data for testing.</div><div class="ttdef"><b>Definition:</b> histogram_approx.h:480</div></div>
<div class="ttc" id="astructvt_1_1util_1_1adt_1_1_histogram_approx_html_a777a1384cff8b2bd7e0cd8b8a7c4def4"><div class="ttname"><a href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#a777a1384cff8b2bd7e0cd8b8a7c4def4">vt::util::adt::HistogramApprox::cs_</a></div><div class="ttdeci">std::vector&lt; CentroidType &gt; cs_</div><div class="ttdef"><b>Definition:</b> histogram_approx.h:620</div></div>
<div class="ttc" id="astructvt_1_1util_1_1adt_1_1_histogram_approx_html_a7d691b9a2139ae2d320a39c1d8fbabab"><div class="ttname"><a href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#a7d691b9a2139ae2d320a39c1d8fbabab">vt::util::adt::HistogramApprox::add</a></div><div class="ttdeci">void add(T value, CountType num_times=1)</div><div class="ttdoc">Add a value to the histogram.</div><div class="ttdef"><b>Definition:</b> histogram_approx.h:236</div></div>
<div class="ttc" id="astructvt_1_1util_1_1adt_1_1_histogram_approx_html_accb60fd3c6827b4bc3f8db9d688397b3"><div class="ttname"><a href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#accb60fd3c6827b4bc3f8db9d688397b3">vt::util::adt::HistogramApprox::HistogramApprox</a></div><div class="ttdeci">HistogramApprox()=default</div></div>
<div class="ttc" id="astructvt_1_1util_1_1adt_1_1_histogram_approx_html_a5b6af36eb1219d09bf17349731ed66ff"><div class="ttname"><a href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#a5b6af36eb1219d09bf17349731ed66ff">vt::util::adt::HistogramApprox::getMaxCentroids</a></div><div class="ttdeci">CountType getMaxCentroids() const</div><div class="ttdoc">Get the max number of centroids.</div><div class="ttdef"><b>Definition:</b> histogram_approx.h:510</div></div>
<div class="ttc" id="astructvt_1_1util_1_1adt_1_1detail_1_1_centroid_html_a781bd5bd78c178a2a4ee8c9a0c991d06"><div class="ttname"><a href="structvt_1_1util_1_1adt_1_1detail_1_1_centroid.html#a781bd5bd78c178a2a4ee8c9a0c991d06">vt::util::adt::detail::Centroid::addCount</a></div><div class="ttdeci">void addCount(CountType in_add)</div><div class="ttdoc">Add to the count.</div><div class="ttdef"><b>Definition:</b> histogram_approx.h:116</div></div>
<div class="ttc" id="astructvt_1_1util_1_1adt_1_1_histogram_approx_html_a948e8a7dec4f205fc5bf1d1b896211b1"><div class="ttname"><a href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#a948e8a7dec4f205fc5bf1d1b896211b1">vt::util::adt::HistogramApprox::removeOneCentroid</a></div><div class="ttdeci">void removeOneCentroid()</div><div class="ttdoc">Reduce number of centroids by one centroid.</div><div class="ttdef"><b>Definition:</b> histogram_approx.h:557</div></div>
<div class="ttc" id="anamespacevt_html"><div class="ttname"><a href="namespacevt.html">vt</a></div><div class="ttdef"><b>Definition:</b> activefn.h:51</div></div>
<div class="ttc" id="astructvt_1_1util_1_1adt_1_1detail_1_1_centroid_html_ac8a85e340729654a913668059d34a278"><div class="ttname"><a href="structvt_1_1util_1_1adt_1_1detail_1_1_centroid.html#ac8a85e340729654a913668059d34a278">vt::util::adt::detail::Centroid::getCount</a></div><div class="ttdeci">CountType getCount() const</div><div class="ttdoc">Get the count.</div><div class="ttdef"><b>Definition:</b> histogram_approx.h:95</div></div>
<div class="ttc" id="astructvt_1_1util_1_1adt_1_1_histogram_approx_html_a3beb5b6e74470f8b6bf295217d5ff843"><div class="ttname"><a href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#a3beb5b6e74470f8b6bf295217d5ff843">vt::util::adt::HistogramApprox::getMax</a></div><div class="ttdeci">T getMax() const</div><div class="ttdoc">Get the maximum value ever inserted in the histogram.</div><div class="ttdef"><b>Definition:</b> histogram_approx.h:211</div></div>
<div class="ttc" id="astructvt_1_1util_1_1adt_1_1_histogram_approx_html"><div class="ttname"><a href="structvt_1_1util_1_1adt_1_1_histogram_approx.html">vt::util::adt::HistogramApprox</a></div><div class="ttdoc">A bounded-size, online/streaming approximate histogram.</div><div class="ttdef"><b>Definition:</b> histogram_approx.h:191</div></div>
<div class="ttc" id="astructvt_1_1util_1_1adt_1_1_histogram_approx_html_aae8a321f42f550b711aeeb50ac8ef913"><div class="ttname"><a href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#aae8a321f42f550b711aeeb50ac8ef913">vt::util::adt::HistogramApprox::serialize</a></div><div class="ttdeci">void serialize(SerializerT &amp;s)</div><div class="ttdoc">Serialize the centroid.</div><div class="ttdef"><b>Definition:</b> histogram_approx.h:497</div></div>
<div class="ttc" id="astructvt_1_1util_1_1adt_1_1detail_1_1_centroid_html_a7950a3f8199b064108e117106014b645"><div class="ttname"><a href="structvt_1_1util_1_1adt_1_1detail_1_1_centroid.html#a7950a3f8199b064108e117106014b645">vt::util::adt::detail::Centroid::Centroid</a></div><div class="ttdeci">Centroid(T in_value, CountType in_count)</div><div class="ttdoc">Construct a new centroid.</div><div class="ttdef"><b>Definition:</b> histogram_approx.h:78</div></div>
<div class="ttc" id="astructvt_1_1util_1_1adt_1_1detail_1_1_centroid_html_a17b351e747aba8aa88699a4d9137a692"><div class="ttname"><a href="structvt_1_1util_1_1adt_1_1detail_1_1_centroid.html#a17b351e747aba8aa88699a4d9137a692">vt::util::adt::detail::Centroid::value_</a></div><div class="ttdeci">T value_</div><div class="ttdef"><b>Definition:</b> histogram_approx.h:163</div></div>
<div class="ttc" id="astructvt_1_1util_1_1adt_1_1_histogram_approx_html_ab024713bdb28ef694096f3865236faa3"><div class="ttname"><a href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#ab024713bdb28ef694096f3865236faa3">vt::util::adt::HistogramApprox::getMin</a></div><div class="ttdeci">T getMin() const</div><div class="ttdoc">Get the minimum value ever inserted in the histogram.</div><div class="ttdef"><b>Definition:</b> histogram_approx.h:218</div></div>
<div class="ttc" id="astructvt_1_1util_1_1adt_1_1_histogram_approx_html_a080a663250287f2c4bb1f2db58d60cf3"><div class="ttname"><a href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#a080a663250287f2c4bb1f2db58d60cf3">vt::util::adt::HistogramApprox::max_centroids_</a></div><div class="ttdeci">CountType max_centroids_</div><div class="ttdef"><b>Definition:</b> histogram_approx.h:616</div></div>
<div class="ttc" id="astructvt_1_1util_1_1adt_1_1detail_1_1_centroid_html_a3d847e231f7e152242a78be89b41e55b"><div class="ttname"><a href="structvt_1_1util_1_1adt_1_1detail_1_1_centroid.html#a3d847e231f7e152242a78be89b41e55b">vt::util::adt::detail::Centroid::setValue</a></div><div class="ttdeci">void setValue(T in_value)</div><div class="ttdoc">Set the value.</div><div class="ttdef"><b>Definition:</b> histogram_approx.h:102</div></div>
<div class="ttc" id="astructvt_1_1util_1_1adt_1_1_histogram_approx_html_aa2fb74665588d311da76dd821f2912c6"><div class="ttname"><a href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#aa2fb74665588d311da76dd821f2912c6">vt::util::adt::HistogramApprox&lt; double, int64_t &gt;::CountType</a></div><div class="ttdeci">int64_t CountType</div><div class="ttdef"><b>Definition:</b> histogram_approx.h:192</div></div>
<div class="ttc" id="astructvt_1_1util_1_1adt_1_1_histogram_approx_html_a0cf82abced8b354d01757093e4510d46"><div class="ttname"><a href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#a0cf82abced8b354d01757093e4510d46">vt::util::adt::HistogramApprox::min_</a></div><div class="ttdeci">T min_</div><div class="ttdef"><b>Definition:</b> histogram_approx.h:618</div></div>
<div class="ttc" id="aconfig_8h_html"><div class="ttname"><a href="config_8h.html">config.h</a></div></div>
<div class="ttc" id="astructvt_1_1util_1_1adt_1_1_histogram_approx_html_a8827a511e5b810ffca9da33d769bc4b9"><div class="ttname"><a href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#a8827a511e5b810ffca9da33d769bc4b9">vt::util::adt::HistogramApprox::pareToNewMaxCentroids</a></div><div class="ttdeci">void pareToNewMaxCentroids(CountType in_max_centroids)</div><div class="ttdoc">Reduce the number of centroids to a new maximum.</div><div class="ttdef"><b>Definition:</b> histogram_approx.h:542</div></div>
<div class="ttc" id="astructvt_1_1util_1_1adt_1_1detail_1_1_centroid_html_a7abe96415d943f38db8381a7be593fde"><div class="ttname"><a href="structvt_1_1util_1_1adt_1_1detail_1_1_centroid.html#a7abe96415d943f38db8381a7be593fde">vt::util::adt::detail::Centroid::setCount</a></div><div class="ttdeci">void setCount(CountType in_count)</div><div class="ttdoc">Set the count.</div><div class="ttdef"><b>Definition:</b> histogram_approx.h:109</div></div>
<div class="ttc" id="astructvt_1_1util_1_1adt_1_1_histogram_approx_html_ac376fd975845204cca3425c8517376f6"><div class="ttname"><a href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#ac376fd975845204cca3425c8517376f6">vt::util::adt::HistogramApprox::getBorderCentroids</a></div><div class="ttdeci">std::tuple&lt; CentroidType, CentroidType &gt; getBorderCentroids(std::size_t i) const</div><div class="ttdoc">Get the border centroids of a given i'th centroid returning the (i-1)'th and i'th centroids.</div><div class="ttdef"><b>Definition:</b> histogram_approx.h:605</div></div>
<div class="ttc" id="astructvt_1_1util_1_1adt_1_1_histogram_approx_html_acdc73bd403084f66fc7d6011e4853ff6"><div class="ttname"><a href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#acdc73bd403084f66fc7d6011e4853ff6">vt::util::adt::HistogramApprox::getNumCentroids</a></div><div class="ttdeci">CountType getNumCentroids() const</div><div class="ttdoc">Get the number of centroids that are actually used.</div><div class="ttdef"><b>Definition:</b> histogram_approx.h:519</div></div>
<div class="ttc" id="astructvt_1_1util_1_1adt_1_1_histogram_approx_html_adc37c23f9b9d846e4fb0f7b788cb54de"><div class="ttname"><a href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#adc37c23f9b9d846e4fb0f7b788cb54de">vt::util::adt::HistogramApprox::estimateNumValues</a></div><div class="ttdeci">double estimateNumValues(double p)</div><div class="ttdoc">Estimate the number of values &lt;= p in the histogram.</div><div class="ttdef"><b>Definition:</b> histogram_approx.h:332</div></div>
<div class="ttc" id="astructvt_1_1util_1_1adt_1_1_histogram_approx_html_a4bab4f7bffe5cd03a70be4013bd18403"><div class="ttname"><a href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#a4bab4f7bffe5cd03a70be4013bd18403">vt::util::adt::HistogramApprox::max_</a></div><div class="ttdeci">T max_</div><div class="ttdef"><b>Definition:</b> histogram_approx.h:619</div></div>
<div class="ttc" id="astructvt_1_1util_1_1adt_1_1_histogram_approx_html_a740842719c1af07e00fcfaa4093dc193"><div class="ttname"><a href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#a740842719c1af07e00fcfaa4093dc193">vt::util::adt::HistogramApprox::computeFixedBuckets</a></div><div class="ttdeci">std::vector&lt; CountType &gt; computeFixedBuckets(int n_buckets)</div><div class="ttdoc">Build a histogram with fixed buckets, each bucket containing the number of values in that range.</div><div class="ttdef"><b>Definition:</b> histogram_approx.h:428</div></div>
<div class="ttc" id="astructvt_1_1util_1_1adt_1_1detail_1_1_centroid_html_a8564071b97ee50cf6ee90510d9f90aac"><div class="ttname"><a href="structvt_1_1util_1_1adt_1_1detail_1_1_centroid.html#a8564071b97ee50cf6ee90510d9f90aac">vt::util::adt::detail::Centroid::exact_</a></div><div class="ttdeci">bool exact_</div><div class="ttdef"><b>Definition:</b> histogram_approx.h:165</div></div>
<div class="ttc" id="astructvt_1_1util_1_1adt_1_1_histogram_approx_html_ac23b01ef594bcdd86859becf7d81c3b2"><div class="ttname"><a href="structvt_1_1util_1_1adt_1_1_histogram_approx.html#ac23b01ef594bcdd86859becf7d81c3b2">vt::util::adt::HistogramApprox::getCentroids</a></div><div class="ttdeci">std::vector&lt; CentroidType &gt; const  &amp; getCentroids() const</div><div class="ttdoc">Get the actual centroid array that makes up the histogram.</div><div class="ttdef"><b>Definition:</b> histogram_approx.h:458</div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.16
</small></address>
</body>
</html>
